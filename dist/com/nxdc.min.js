Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),function(a){a.fireEvent=function(a,b,c,d){a=a||document;var e=new Event(b,{bubbles:d||!0});e.data=c||{name:"unknow"},a.dispatchEvent(e)}}(window),function(a,b){var c={type:1,title:"",content:"这里填写你想要展示的提示内容！~~",btnOK:"OK",icon:"",callback:null};a(document).ready(function(){var d=a(document.body);if(0==d.find("[id*='alert'][class*='modal fade']").length){var e=a('<div class="modal fade" tabindex="-1" role="dialog" id="alert-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),f=a('<div class="modal-header">						  		<button class="close" data-dismiss="modal">						  			<span aria-hidden="true">&times;</span>						  		</button>						    </div>'),g=a('<div class="modal-body"></div>'),h=a('<div class="modal-footer">								<button class="btn btn-default" data-dismiss="modal"></button>						    </div>');e.find("div.modal-content").append(f).append(g).append(h),d.append(e)}b.showAlert=function(b){g.empty();var d=a('<div id="icon-holder"></div>'),i=a('<div id="content-holder"><div class="content-title"></div>								<p class="content-itself"></p></div>');g.append(d).append(i);var j=a.extend(!0,{},c,e.data(),b);j.icon?(d.html(j.icon).addClass("showing"),i.addClass("showing")):(d.removeClass("showing"),i.removeClass("showing")),j.title&&g.find(".content-title").html(j.title),j.content&&("function"==typeof j.content?j.content(i.find(".content-itself")):i.find(".content-itself").html(j.content)),j.btnOK&&h.find("button.btn").text(j.btnOK).attr("value",j.btnOK),e.unbind("hide.bs.modal").on("hide.bs.modal",function(a){j.callback&&"function"==typeof j.callback&&j.callback(e)}),2==j.type?(f.remove(),h.remove(),e.unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()})):e.unbind("click");var k=a.extend(!0,{},e,e.modal());return k}})}(jQuery,window),function(a){function b(a){var b=a.elem.width();if(a.config.wis>=b-40){var c=(b-40)/a.config.list.length;a.breadwrapper.find("li").css({maxWidth:c+"px"}).addClass("cus")}else a.breadwrapper.find("li").removeAttr("style").removeClass("cus")}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.bread.defaults,b.data(),c),this.config.w=this.elem.width(),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var c=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),c.breadwrapper.find("li:has(a)").click(function(b){b.stopImmediatePropagation();var d=parseInt(a(this).attr("deep")),e=a(this).text();c.config.home&&0==d?a(this).addClass("active").empty().text(c.config.list[d]).prepend(c.config.home):a(this).addClass("active").empty().text(c.config.list[d]),c.breadwrapper.find("li:gt("+d+")").remove(),fireEvent(c.elem.get(0),"LAYER_CHANGE",{index:d,text:e})}),a(window).resize(function(){b(c)})},c.prototype.concrate=function(c){var d=this,e=0;this.breadwrapper=a("<ol class='breadcrumb'/>");var f=document.createElement("span");f.style.opacity="0",f.style.visibility="hidden",f.style.position="absolute",document.body.appendChild(f),d.config.list.forEach(function(a,b){if("string"==typeof a||"number"==typeof a)var c=a;else c=a.name||a.text||a.label;f.innerHTML=c;var g=f.getBoundingClientRect().width;e+=g,b!=d.config.list.length-1?d.breadwrapper.append("<li deep="+b+" w="+g+" title="+c+" ><a href='#'><span>"+c+"</span></a></li>"):d.breadwrapper.append("<li class='active' deep="+b+" w="+g+" title="+c+" ><span>"+c+"</span></li>"),b==d.config.list.length-1&&(document.body.removeChild(f),d.config.wis=e)}),b(d),d.elem.append(d.breadwrapper)},c.prototype.initConfig=function(){var a=this;a.breadwrapper.find("li:gt(0)").addClass("change").attr("data-content",a.config.spliter),a.config.home&&a.breadwrapper.find("li:first>a").prepend(a.config.home).addClass("bread-home-decorate")},a.fn.bread=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.bread;a.fn.bread.Constructor=c,a.fn.bread.noConflict=function(){return a.fn.bread=e,this},a.fn.bread.defaults={home:"",spliter:"/",list:[]}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.bubble.defaults,b.data(),c),this.init()}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.popover(b.config),this.elem.click(function(c){var d=b.elem.attr("aria-describedby");setTimeout(function(){if(d||b.elem.popover("show"),d){var c=a("#"+d);c.find("button.close").click(function(a){a.stopImmediatePropagation(),b.elem.popover("hide")}),c.find("button[name=cancel]").click(function(a){a.stopImmediatePropagation(),fireEvent(c.get(0),"bubble_cancel"),b.elem.popover("hide")}),c.find("button[name=ok]").click(function(a){a.stopImmediatePropagation(),fireEvent(c.get(0),"bubble_ok"),b.elem.popover("hide")})}},150)})},b.prototype.concrate=function(a){},b.prototype.initConfig=function(){var b=this,c=this.config;if(c.icon){var d=/\.(jpg|jpeg|gif|png|bmp)(\?)?.?/i;d.test(c.icon)?b.img=a("<img width='100%' height='100%' />").attr("src",c.icon):b.img=a(c.icon),this.elem.append(b.img)}var e=a("<div />").append(c.template);e.find("button.close").toggleClass("close2",c.title?!0:!1),e.find("button.close").toggleClass("hidden",c.close),e.children().attr("type",c.type),c.template=e.html()},a.fn.bubble=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.bubble;a.fn.bubble.Constructor=b,a.fn.bubble.noConflict=function(){return a.fn.bubble=d,this},a.fn.bubble.defaults={type:1,icon:"<i class='glyphicon glyphicon-user'></i>",placement:"bottom",content:"",close:!1,template:'<div class="popover" role="tooltip">						<div class="arrow"></div>						 <button type="button" class="close" aria-label="Close">							<span aria-hidden="true">&times;</span>						 </button>						<div class="popover-title"></div>						<div class="popover-content"></div>						<div class="popover-footer">							<button class="btn btn-default" name="cancel" >取消</button>							<button class="btn btn-default" name="ok" >确定</button>						</div>					</div>'}}(jQuery),function(a,b){function c(){0==a(document.body).find("[id*='confirm'][class*='modal fade']").length&&(e=a('<div class="modal fade" tabindex="-1" role="dialog" id="confirm-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),f=a('<div class="modal-header">								<button class="close" data-dismiss="modal">									<span aria-hidden="true">&times;</span>								</button>								<span class="top-title"></span>							</div>'),g=a('<div class="modal-body"></div>'),h=a('<div class="modal-footer">								<button class="btn btn-default btn-ok" data-dismiss="modal"></button>								<button class="btn btn-default btn-cancel" data-dismiss="modal"></button>							</div>'),e.find("div.modal-content").append(f).append(g).append(h),a(document.body).append(e))}function d(b,c){var d=this;this.elem=b,this.config=a.extend(!0,{},a.fn.confirm.defaults,b.data(),c),this.init(),this.status="",this.elem.modal().unbind("hide.bs.modal").on("hide.bs.modal",function(a){a.stopImmediatePropagation(),"ok"==d.status?d.config.onOK():d.config.onCancel()})}var e,f,g,h;a(document).ready(function(){c()}),d.prototype.init=function(){var a=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.find("button.btn-ok").unbind("click").click(function(b){a.status="ok"}),this.elem.find("button.btn-cancel,button.close").unbind("click").click(function(b){a.status="cancel"})},d.prototype.concrate=function(a){},d.prototype.initConfig=function(){var b=this,c=b.config;if(c.title?f.find(".top-title").html(c.title):f.find(".top-title").html(""),c.content){g.empty();var d=a('<div id="icon-holder"></div>'),e=a('<div id="content-holder"><div class="content-title"></div>								<p class="content-itself">'+c.content+"</p></div>");g.append(d).append(e)}else g.empty();c.icon?(d.html(c.icon).addClass("showing"),e.addClass("showing")):(d.removeClass("showing"),e.removeClass("showing")),c.btnOK&&h.find("button.btn-ok").text(c.btnOK),c.btnCANCEL&&h.find("button.btn-cancel").text(c.btnCANCEL)},a.fn.confirm=function(a){var b=this.first();new d(b,a);return b},a.fn.confirm.defaults={title:"确认信息",content:"你确定留空白什么也不写吗？ 请选择",icon:"",btnOK:"确定",btnCANCEL:"取消",onOK:function(){},onCancel:function(){}},b.showConfirm=function(b){return a("#confirm-holder").confirm(b)}}(jQuery,window),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.drop.defaults,b.data(),c),this.config.width=this.elem.width(),this.init()}function c(a){var b=a.peal,c=a.list,d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),a.elem.find("span.caret-wrapper").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px","box-shadow":"0 0 1px #ccc"}),a.elem.find("span.caret-wrapper").addClass("turnback"))}function d(b,c,d){var e=arguments[3]||0,f=arguments[4]||5;e++;var g=arguments.callee,h=a("<ul class='sub-drop-list'/>");3!=d.type&&h.addClass("hidden"),h.css({width:d.width+f+5+"px",left:-f+"px"});for(var i=0;i<c.length;i++){var j=c[i],k=j[d.subKey]||j.sub||j.son||j.next||j.group,l=j[d.textKey]||j.text||j.label||j.title||j.name,m=j.val||j.text,n=a("<li class='drop-one-item' value="+m+" deep="+e+" title="+l+" />"),o=5*(e+2)+2;if(n.css({"padding-left":o+"px"}),k&&k instanceof Array){n.addClass("drop-recursive");var p=a("<i/>",{"class":"glyphicon"});p.addClass(d.caret),n.append(p).append(l),g(n,k,d,e,o)}else n.append(l);h.append(n)}b.append(h)}function e(a){this.val=function(b){var c="string"==typeof b||"number"==typeof b?b:b.label||b.text||b.name||b.value;return a.elem.find("input").val(c),a.elem}}b.prototype.init=function(){var b=this;if(this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.peal.click(function(a){a.stopImmediatePropagation(),b.elem.toggleClass("focus"),b.list.toggleClass("hidden"),c(b)}),b.list.find("li[class='drop-one-item'],li[class='drop-one-item split-line']").click(function(c){c.stopImmediatePropagation(),b.list.addClass("hidden");var d=(a(this).index(),a(this).attr("value"));if(b.peal.find("input").val(d),3==b.config.type){var e=a(this).parents(".drop-one-item[deep='0']:first");fireEvent(b.elem.get(0),"ITEM_CLICK",{val:d,group:e.index(),gpname:e.attr("title")})}else fireEvent(b.elem.get(0),"ITEM_CLICK",{val:d})}),b.peal.keyup(function(c){if(13==c.keyCode&&!b.list.hasClass("hidden")&&b.list.find("li.em").length){var d=b.list.find("li.em"),e=d.attr("value");d.attr("deep");if(a(this).find("input").val(e),3==b.config.type){var f=d.parents(".drop-one-item[deep='0']:first");fireEvent(b.elem.get(0),"ITEM_CLICK",{val:e,group:f.index(),gpname:f.attr("title")})}else fireEvent(b.elem.get(0),"ITEM_CLICK",{val:e});b.list.addClass("hidden")}var g=b.list.find("li[class='drop-one-item'],li[class='drop-one-item split-line'],li[class='drop-one-item em'],li[class='drop-one-item split-line em']"),h=[].slice.call(g,0);if(40==c.keyCode)if(b.list.find("li.em").length){var i=b.list.data("now")||function(){for(var b=0;b<h.length;b++)if(a(h[b]).hasClass("em"))return b}(),j=g.filter(".em").first(),k=a(g[parseInt(i)+1]);k.get(0)?k.addClass("em"):g.first().addClass("em"),j.removeClass("em")}else g.first().addClass("em");else if(38==c.keyCode)if(j=g.filter(".em").first(),b.list.find("li.em").length){i=b.list.data("now")||function(){for(var b=0;b<h.length;b++)if(a(h[b]).hasClass("em"))return b}();var l=a(g[parseInt(i)-1]);l.get(0)?l.addClass("em"):g.last().addClass("em"),j.removeClass("em")}else g.last().addClass("em")}),3!=b.config.type&&b.list.find("li.drop-recursive").click(function(d){d.stopImmediatePropagation(),a(this).children("ul.sub-drop-list").toggleClass("hidden"),a(this).children("i.glyphicon").toggleClass("turndown"),c(b)}),4==b.config.type){var d=a("<li class='drop-one-item apply-item'><button class='btn btn-default'>Apply</button></li>");b.list.append(d),b.list.find("li.all-banner>input[type=checkbox]").change(function(){b.list.find("li.checkbox-item>").prop("checked",this.checked)}),b.list.find("li.checkbox-item:not(.all-banner)>input[type=checkbox]").change(function(){this.checked||b.list.find("li.all-banner>input[type=checkbox]").prop("checked",this.checked)}),b.list.find("li.apply-item").click(function(c){c.stopImmediatePropagation(),b.list.addClass("hidden");var d=b.list.find("li.checkbox-item:not(.all-banner):has(input[type]:checked)"),e=[],f=[];d.each(function(b,c){var d=a(c).attr("value"),g=a(c).text();e.push({index:a(c).index(),value:d,text:g}),f.push(g)}),b.peal.find("input").attr("checkedArr",JSON.stringify(e)).val(f.join(",")),fireEvent(b.elem.get(0),"APPLY_CLICK",{checkedArr:e})}),a(document).click(function(b){("INPUT"!=b.target.tagName||"checkbox"!=b.target.type)&&a(".ndp-drop-wrapper ul.drop-list:has(li.drop-one-item)").addClass("hidden"),a(".ndp-drop-wrapper").removeClass("focus")})}},b.prototype.concrate=function(b){var c=this;if(this.peal=a("<div class='drop-peal' tabIndex='-1' />"),2==this.config.type&&this.peal.addClass("drop-split-peal"),this.list=a("<ul class='drop-list hidden' tabIndex='-1' tabIndex='-1' />"),this.peal.html('<input type="text" readonly="true"><span class="caret-wrapper" tabIndex=-1><span class="caret glyphicon '+c.config.caret+'"></span></span>'),this.elem.append(c.peal).append(c.list),4==c.config.type){var d=a("<li class='drop-one-item checkbox-item all-banner'><span>All</span><input type='checkbox'/></li>");this.list.append(d)}},b.prototype.initConfig=function(){var b=this;this.placeholder&&b.peal.find("input").attr("placeholder",b.placeholder),b.config.val&&b.peal.find("input").val(b.config.val),b.config.name&&b.peal.find("input").attr("name",b.config.name),b.config.data.forEach(function(c,e){if(c&&"object"==typeof c){var f=b.config.subKey,g=b.config.textkey,h=c[f]||c.sub||c.son||c.next||c.group,i=c[g]||c.text||c.label||c.title||c.name,j=c.val||i,k=c.other;if(h&&h instanceof Array){var l=a("<li class='drop-one-item drop-recursive' deep='0' />");if(3!=b.config.type){var m=a("<i/>",{"class":"glyphicon"});m.addClass(b.config.caret),l.append(m)}else l.addClass("group-hilight");l.append(i).attr("title",i),d(l,h,b.config,0),b.list.append(l)}else{if(l=a("<li class='drop-one-item' value="+j+" deep='0' title="+i+" >"+i+"</li>"),c.disable&&l.addClass("disabled"),c.split&&l.addClass("split-line"),4==b.config.type){var n=a("<input type='checkbox' value='"+j+"' />");l.addClass("checkbox-item").append(n)}k&&l.attr("data-other",k),b.list.append(l)}}else if("number"==typeof c||"string"==typeof c){if(l=a("<li class='drop-one-item' />"),l.attr("value",c).append("<span title="+c+" >"+c+"</span>"),4==b.config.type){l.addClass("checkbox-item");var n=a("<input type='checkbox' value='"+j+"' />");l.append(n)}b.list.append(l)}})},a.fn.drop=function(c){var d=this.first(),f=new b(d,c);return d=a.extend(!0,{},d,new e(f))},a.fn.drop.defaults={type:1,name:"drop",placeholder:null,textKey:"",subKey:"",val:null,caret:"glyphicon-triangle-right",data:[]}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");1==e&&g.addClass("list-deepest dropdown-menu").attr("aria-labelledby",c.id);for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='drop-list-item' data-index="+h+"/>"),k=a("<div class='content-part' data-index="+h+" data-deep="+e+"/>");j.append(k);var l=a("<span class='icon-part' />");k.append(l);var m=a("<span class='txt-part' />");if(k.append(m),"object"==typeof i){var n=i.sub||i.son||i.next||i.group||i.children,o=i.text||i.label||i.title||i.name;i.href&&(o='<a href="'+i.href+'">'+o+"</a>"),i["class"]&&j.addClass(i["class"]),m.html(o).attr("title",o),k.data("val",o),j.attr({value:o,deep:e}),n&&n instanceof Array?(k.addClass("title-layer"),f(n,c,j,e)):j.addClass("list-leaf")}else m.html(i),k.data("val",i),j.attr({value:i,deep:e}).addClass("list-leaf");g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.drop2.defaults,b.data(),c),this.config.width=this.elem.width(),this.init()}function d(a){this.val=function(b){if(2==a.config.type){var c=b.text||b.label||b.name||b.value||b;a.hold.html(c).data("val",c)}return a.elem}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.elem.find(".content-part.title-layer").click(function(a){a.stopImmediatePropagation()}),this.elem.find(".content-part:not(:has(.title-layer))").click(function(c){var d=a(this).text();2==b.config.type?(b.hold.data("val")!=d&&fireEvent(a(this).get(0),"SELECT_CHANGE",{value:a(this).data("val")}),b.hold.html(d).data("val",d)):fireEvent(a(this).get(0),"ITEM_CLICK",{value:a(this).data("val")})})},c.prototype.concrate=function(b){var c=this;c.button=a("<button type='button' data-toggle='dropdown' />"),c.hold=a("<span />"),c.button.append(c.hold)},c.prototype.initConfig=function(){var a=this,c=this.config;a.button.attr("id",c.id),a.button.append(c.caret),a.hold.html("string"==typeof c.label?c.label:c.label.text||c.label.label||c.label.name),this.elem.append(a.button),b(c.data,c,a.elem,0)},a.fn.drop2=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.drop2;a.fn.drop2.Constructor=c,a.fn.drop2.noConflict=function(){return a.fn.drop=e,this},a.fn.drop2.defaults={type:1,id:"drop"+(new Date).valueOf(),caret:"<i class='glyphicon glyphicon-menu-down'></i>",label:"undefined",data:[]}}(jQuery),function(a){function b(b){var c=a('<div class="carousel slide" data-ride="carousel" id="gallery-carousel">'),d=a('<div class="carousel-inner" role="listbox">');window.innerWidth,window.innerHeight;b.forEach(function(b,c){var e=a('<div class="item" index='+c+" w="+b.w+" h="+b.h+">");0==c&&e.addClass("active");var f=a("<img data-img="+b.big+' class="img-responsive">');0==c&&f.attr("src",b.big);var g=a('<div class="carousel-caption">');e.append(f).append(g),d.append(e)});var e=a('<a class="left carousel-control hidden" href="#gallery-carousel" role="button" 					data-slide="prev">    				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>    				<span class="sr-only">Previous</span>  				</a>'),f=a('<a class="right carousel-control" href="#gallery-carousel" role="button" 					data-slide="next">    			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>    			<span class="sr-only">Next</span>  				</a>');return c.append(d).append(e).append(f),c}function c(b,c){var d=Math.round(.85*window.innerWidth).toFixed(2),e=Math.round(window.innerHeight-210).toFixed(2),f=((b||4)/(c||3)).toFixed(2),g=a(".modal-gallery .modal-content");d/e>f?g.css({width:Math.round(e*f),"margin-left":-Math.round(e*f)/2+"px"}):g.css({width:d,"margin-left":-(d/2)+"px"})}function d(d,e){function f(){setTimeout(function(){var a=h.list.get(0).getBoundingClientRect(),b=h.list.find("ul>li:first"),c=h.list.find("ul>li:last").get(0).getBoundingClientRect(),d=parseInt(b.css("margin-left"));b.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){d=parseInt(b.css("margin-left")),5==d?h.lfButton.addClass("disabled"):h.lfButton.removeClass("disabled"),a.right>=c.right?h.rtButton.addClass("disabled"):h.rtButton.removeClass("disabled")}),5==d?h.lfButton.addClass("disabled"):h.lfButton.removeClass("disabled"),a.right>=c.right?h.rtButton.addClass("disabled"):h.rtButton.removeClass("disabled")},250)}function g(a){var b=h.body.find("div.item[index="+a+"] img"),c=b.data("img");b.attr("src")||b.attr("src",c)}var h=this;this.elem=d,this.config=a.extend(!0,{},a.fn.gallery.defaults,d.data(),e),this.init(),this.elem.click(function(d){var e=h.config.data.length;h.body.empty().append(b(h.config.data));var g=h.list.find("ul");g.empty().attr("data-len",e),h.config.data.forEach(function(b,c){var d=a("<li class='gallery-list-cell' index="+c+"></li>");c==e-1&&d.attr("lastone","true"),0==c&&d.addClass("active");var f=a("<img width='100%' height='100%' class='img-responsive' /> ");b.small&&f.attr("src",b.small),d.append(f),g.append(d)});var i=h.config.data[h.config.current];c(i.w,i.h),h.wrapper.modal(),f();var j=a("#gallery-carousel").find("img[data-img][index='1']");j.attr("src",j.data("img"))}),h.wrapper.unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()}),h.list.find("ul").unbind("click").click(function(b){var d=a(this).data("len");if("UL"!=b.target.tagName){var e="IMG"==b.target.tagName?a(b.target).parent():a(b.target),f=e.attr("index");e.addClass("active").siblings().removeClass("active");var i=h.body.find("div.carousel-inner div.item[index="+f+"]");c(i.attr("w"),i.attr("h")),i.addClass("active").siblings().removeClass("active"),g(f),g(f+1);var j=h.body.find("a.left.carousel-control"),k=h.body.find("a.right.carousel-control");0==f?(j.addClass("hidden"),k.removeClass("hidden")):f==d-1?(k.addClass("hidden"),j.removeClass("hidden")):(k.removeClass("hidden"),j.removeClass("hidden"))}}),h.lfButton.click(function(b){if(b.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var c=h.list.find("ul"),d=parseFloat(c.find("li:first").css("marginLeft")||0);c.find("li:first").css("marginLeft",d+100+"px"),f()}),h.rtButton.click(function(b){if(b.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var c=h.list.find("ul"),d=parseFloat(c.find("li:first").css("marginLeft"));c.find("li:first").css("marginLeft",d-100+"px"),f()}),h.body.unbind("click").click(function(b){var d=h.list.find("ul[data-len]").data("len"),e=h.body.find("a.left.carousel-control"),f=h.body.find("a.right.carousel-control");if("A"==b.target.tagName&&a(b.target).hasClass("left")||"SPAN"==b.target.tagName&&-1!=a(b.target).attr("class").indexOf("left")){var i=h.list.find("ul>li.active"),j=parseInt(i.attr("index"));if(1>j){var k=0;return!1}e.removeClass("hidden"),f.removeClass("hidden"),k=j-1;var l=h.list.find("ul>li[index="+(j-1)+"]");l.addClass("active").siblings().removeClass("active");var m=h.body.find("div.carousel-inner"),n=m.find("div.item[index="+(j-1)+"]");c(n.attr("w"),n.attr("h")),n.addClass("active").siblings().removeClass("active"),parseInt(i.attr("index"))<=1&&e.addClass("hidden")}else if("A"==b.target.tagName&&a(b.target).hasClass("right")||"SPAN"==b.target.tagName&&-1!=a(b.target).attr("class").indexOf("right")){var i=h.list.find("ul>li.active"),j=parseInt(i.attr("index"));if(j>=d-1)return!1;f.removeClass("hidden"),e.removeClass("hidden");var k=j+1>=d?j:j+1;l=h.list.find("ul>li[index="+k+"]"),l.addClass("active").siblings().removeClass("active");var m=h.body.find("div.carousel-inner");m.find("div.item[index="+k+"] img").data("src");g(k),g(k+1),n=m.find("div.item[index="+k+"]"),c(n.attr("w"),n.attr("h")),n.addClass("active").siblings().removeClass("active"),k>=d-1&&f.addClass("hidden")}}),a(window).resize(function(a){if(f(),h.wrapper.hasClass("in")){var b=h.body.find("div.carousel-inner div.item.active");c(b.attr("w"),b.attr("h"))}})}function e(a){this.manipulate=function(a){}}d.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig()},d.prototype.concrate=function(b){var c=this,d=a(document.body);0==d.find("[id*='gallery'][class*='modal fade']").length?(c.wrapper=a('<div class="modal fade" tabindex="-1" role="dialog" id="gallery-holder">					  <div class="modal-dialog modal-gallery">						<div class="modal-content"></div>					  </div>					</div>'),c.body=a('<div class="modal-body"></div>'),c.dock=a('<div class="gallery-list-wrapper"></div>'),c.lfButton=a("<i class='glyphicon glyphicon-triangle-left'></i>"),c.rtButton=a("<i class='glyphicon glyphicon-triangle-right'></i>"),c.list=a("<div class='list-box'><ul></ul></div>"),c.dock.append(c.lfButton).append(c.list).append(c.rtButton),c.wrapper.find("div.modal-content").append(c.body),c.close=a('<button class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span>						  </button>'),c.wrapper.append(c.dock).append(c.close),d.append(c.wrapper)):(c.wrapper=d.find("#gallery-holder"),c.body=c.wrapper.find("div.modal-body"),c.dock=c.wrapper.find(".gallery-list-wrapper"),c.lfButton=c.wrapper.find("i.glyphicon-triangle-left"),c.rtButton=c.wrapper.find("i.glyphicon-triangle-right"),c.list=c.dock.find("div.list-box:has(ul)")),this.cover=a('<img class="img-thumbnail" width="100%" height="100%">'),this.mask=a('<div class="gallery-mask"><i class="glyphicon glyphicon-zoom-in"></i></div>'),this.elem.append(this.cover).append(this.mask)},d.prototype.initConfig=function(){var a=this,b=this.config;b.cover&&a.cover.attr("src",b.cover),b.data&&b.data.length||(a.lfButton.addClass("disabled"),a.rtButton.addClass("disabled"))},a.fn.gallery=function(b){var c=this.first(),f=new d(c,b);return c=a.extend(!0,{},c,new e(f))};var f=a.fn.gallery;a.fn.gallery.Constructor=d,a.fn.gallery.noConflict=function(){return a.fn.gallery=f,this},a.fn.gallery.defaults={current:0,cover:"",data:[]}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.navbar.defaults,b.data(),c),this.init()}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.list.find("li:has(a)").click(function(b){b.stopImmediatePropagation(),a(this).hasClass("active")||(a(this).addClass("active"),a(this).siblings().removeClass("active"))})},b.prototype.concrate=function(b){var c=this,d=a('<div class="container-fluid" />'),e=a('<div class="collapse navbar-collapse" />');if(this.list=a('<ul class="nav navbar-nav" />'),1==this.config.type)this.elem.addClass("nav-padding"),d.append(e.append(c.list));else if(2==this.config.type){this.elem.addClass("nav-padding-multi");var f=a('<div class="navbar-header">'),g=a('<a class="navbar-brand" href="#">Brand&Logo</a>');f.append(g),d.append(f).append(e.append(c.list)),this.list.addClass("nav-list-specify")}this.config.data.forEach(function(b,d){if("string"==typeof b){var f=b,g=a('<li><a href="#">'+f+"</a></li>");c.list.append(g)}else if(b.hasOwnProperty("type"))switch(f=b.label||b.text||b.name,b.type){case"link":g=a('<li><a href="#">'+f+"</a></li>"),c.list.append(g);break;case"input":case"button":c.hasOwnProperty("form")||(c.form=a('<form class="navbar-form navbar-left navbar-form-specify" />'),e.prepend(c.form)),g=a('<div class="form-group"></div>'),"input"==b.type?g.html('<input type="text" class="form-control" placeholder="Search">',{value:f}):"button"==b.type&&(g=a('<button type="text" class="btn btn-default">'+f+"</button>")),c.form.append(g)}else c.list.append(g)}),this.elem.append(d)},b.prototype.initConfig=function(){},a.fn.navbar=function(a){var d=this.first(),e=new b(d,a);return c.call(this,e),d},a.fn.navbar.defaults={type:1,data:["link1","like2","like3"]}}(jQuery),function(a){function b(a){var b=a.dropwrapper||a.find(".drop-wrapper"),c=a.dropwrapper&&a.dropwrapper.find("ul.page-dropdown")||a.find("ul.page-dropdown"),d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),b.find("i.glyphicon-triangle-bottom").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px","border-top-color":"#ddd","border-bottom-color":"white"}),b.find("i.glyphicon-triangle-bottom").addClass("turnback"))}function c(a,b){0>=a&&(a=1);for(var c="",d=Math.min(b.config.showPage,b.config.totalPages),e=a;a+d-1>=e;e++)c+="<li class='page-item' value="+e+">"+e+"</li>";return c}function d(b){var d=b,e=arguments.callee,f=d.list,g=d.config,h=f.find("li.page-item:not([role])");h.unbind("click").click(function(b){var i=a(this).attr("value");b.stopImmediatePropagation(),a(this).addClass("active").siblings("li").removeClass("active");var j=parseInt(h.first().text()),k=parseInt(h.last().text());if(a(this).text()==j&&1!=j){var l=j-1;if(l>=2)var m=c(j-2,d);else m=c(j-1,d);f.find("li.page-item:not([role])").remove(),a(m).insertAfter(f.find("li.page-item[role=begin]")),f.find("li[value="+i+"]").addClass("active"),e(d)}a(this).text()==k&&k!=g.totalPages&&(l=g.totalPages-k,m=l>=2?c(j+2,d):c(j+1,d),f.find("li.page-item:not([role])").remove(),a(m).insertAfter(f.find("li.page-item[role=begin]")),f.find("li[value="+i+"]").addClass("active"),e(d)),i==g.totalPages?f.find("li.page-item[role=end]").addClass("disabled"):1==i?f.find("li.page-item[role=begin]").addClass("disabled"):f.find("li.page-item[role]").removeClass("disabled"),fireEvent(d.elem.get(0),"PAGE_CHANGE",{currentPage:parseInt(i)})})}function e(b){var e=b.config;b.list&&b.list.children().length?b.list.empty():b.list=a("<ul class='pagination'/>"),b.beginButton=a("<li class='page-item' role='begin' >"+e.begin+"</li>"),1==e.currentPage&&b.beginButton.addClass("disabled"),b.endButton=a("<li class='page-item' role='end'>"+e.end+"</li>");var f=(Math.min(e.totalPages,e.showPage),c(1,b));b.list.append(b.beginButton).append(f).append(b.endButton),b.list.find("li.page-item:not([role]):first").addClass("active"),b.elem.append(b.list),d(b),b.list.find("li[role].page-item").unbind("click").click(function(g){if(g.stopImmediatePropagation(),a(this).hasClass("disabled"))return!1;var h=b.list.find("li.page-item:not([role]):first").text(),i=b.list.find("li.page-item:not([role]):last").text(),j=1;"begin"==a(this).attr("role")?(1!=h&&(f=c(1,b),b.list.find("li.page-item:not([role])").remove(),a(f).insertAfter(b.list.find("li.page-item[role=begin]")),d(b)),b.list.find("li.page-item:not([role]):first").addClass("active").siblings().removeClass("active"),a(this).addClass("disabled").siblings().removeClass("disabled"),j=1):(i!=b.config.totalPages&&(f=c(e.totalPages-e.showPage+1,b),b.list.find("li.page-item:not([role])").remove(),a(f).insertAfter(b.list.find("li.page-item[role=begin]")),d(b)),b.list.find("li.page-item:not([role]):last").addClass("active").siblings().removeClass("active"),a(this).addClass("disabled").siblings().removeClass("disabled"),j=b.config.totalPages),fireEvent(b.elem.get(0),"PAGE_CHANGE",{currentPage:j})})}function f(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.page.defaults,b.data(),c),this.config.totalItems&&(this.config.totalPages=Math.ceil(this.config.totalItems/this.config.perPage)),this.config.showPage=5,this.init()}function g(a){this.val=function(b){var b=parseInt(b)||1;return a.setpage(b),a.elem}}f.prototype.init=function(){var c=this;c.concrate(),c.initConfig(),(2==c.config.type||3==c.config.type)&&(c.dropwrapper.mouseenter(function(d){d.stopImmediatePropagation(),a(this).find("ul.page-dropdown").toggleClass("hidden"),b(c)}),c.dropwrapper.mouseleave(function(b){b.stopImmediatePropagation(),a(this).find("ul.page-dropdown").addClass("hidden")}),c.dropwrapper.find("ul.page-dropdown>li").click(function(b){b.stopImmediatePropagation(),a(this).parent().addClass("hidden");var d=parseInt(a(this).text());c.pagetext.text()!=d&&(c.pagetext.text(d),c.num.html(d),c.config.perPage=parseInt(d),c.config.totalPages=Math.ceil(c.config.totalItems/c.config.perPage),e(c),fireEvent(c.elem.get(0),"SHOW_ITEMS_CHANGE",{currentPage:1,perpage:d}))})),4==c.config.type&&(c.elem.find(".drop-wrapper").click(function(d){d.stopImmediatePropagation(),a(this).find("ul").toggleClass("hidden"),b(c.elem)}),c.elem.find(".drop-wrapper>ul>li").click(function(b){a(this).parents(".drop-wrapper:first").find(".text-show").text("第"+a(this).attr("val")+"页"),a(this).addClass("active").siblings().removeClass("active");var d=parseInt(a(this).attr("val"));fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:d})}),c.elem.find(".pre-page").click(function(a){a.stopImmediatePropagation();var b=c.elem.find(".drop-wrapper>ul>li.active"),d=parseInt(b.attr("val"));d>1&&(d-=1,
b.removeClass("active").prev().addClass("active"),c.elem.find(".text-show").text("第"+d+"页")),fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:d})}),c.elem.find(".next-page").click(function(a){a.stopImmediatePropagation();var b=c.elem.find(".drop-wrapper>ul>li.active"),d=parseInt(c.elem.find(".drop-wrapper>ul>li:last").attr("val")),e=parseInt(b.attr("val"));d>e&&(e+=1,b.removeClass("active").next().addClass("active"),c.elem.find(".text-show").text("第"+e+"页")),fireEvent(c.elem.get(0),"PAGE_CHANGE",{currentPage:e})})),a(document).click(function(a){c.elem.find(".drop-wrapper>.page-dropdown").addClass("hidden")})},f.prototype.concrate=function(){var b=this,c=b.config;if(2==c.type||3==c.type){c.defItems>=c.perPages.length&&(c.defItems=0),b.pagetext=a("<span class='page-choosed-text'/>").html(c.perPages[c.defItems]),b.dropwrapper=a("<span class='page-drop-list'/>");var d=a("<i class='glyphicon glyphicon-menu-hamburger' />"),f=a("<i class='glyphicon glyphicon-triangle-bottom' />"),g=a("<ul class='page-dropdown hidden'/>");b.num=a("<div class='page-now' />").text(c.perPages[c.defItems]),2==c.type?b.dropwrapper.append(d).append(f):3==c.type&&b.dropwrapper.append(b.num).append(f),c.perPages.forEach(function(b){if("string"==typeof b||"number"==typeof b)var c=b;else c=b.name||b.text||b.pages;var d=a("<li />").text(c);g.append(d)}),b.dropwrapper.append(g),2==c.type?b.elem.append(b.pagetext).append(b.dropwrapper):3==c.type&&b.elem.append(b.dropwrapper)}if(c.type<4&&e(b),4==c.type){var h=a("<span class='pre-page' />").html(c.pre),g=a("<ul class='page-dropdown hidden' />"),i=a("<span class='drop-wrapper' />").append("<div class='text-show'></div>").append(g),j=a("<span class='next-page' />").html(c.next);c.currentPage,i.find(".text-show").text("第"+(c.currentPage||1)+"页");for(var k=1;k<=c.totalPages;k++){var l=a("<li index="+k+"  val="+k+" >第"+k+"页</li>");c.currentPage==k&&l.addClass("active"),g.append(l)}b.elem.append(h).append(i).append(j).addClass("special")}},f.prototype.initConfig=function(){var a=this,b=a.config,c=a.config.currentPage||1;4==b.type||(b.currentPage,0)||a.list.find("li.page-item[value="+c+"]").addClass("active"),2==b.type&&b.perPage&&a.pagetext.text(b.perPage)},f.prototype.setpage=function(a){this.config.totalPages},a.fn.page=function(b){var c=this.first(),d=new f(c,b);return c=a.extend(!0,{},c,new g(d))};var h=a.fn.page;a.fn.page.Constructor=f,a.fn.page.noConflict=function(){return a.fn.page=h,this},a.fn.page.defaults={type:1,begin:"<i class='glyphicon glyphicon-step-backward'></i>",end:"<i class='glyphicon glyphicon-step-forward'></i>",totalPages:1,currentPage:1,perPage:10,defItems:0,perPages:[10,20,30],totalItems:0,pre:"上一页",next:"下一页"}}(jQuery),function(a){function b(b,c){this.$elem=a(b),this.config=a.extend(!0,a.fn.progressbar.defaults,{css:this.$elem.attr("data-progressbar-css"),progress:this.$elem.attr("data-progressbar-progress"),width:this.$elem.attr("data-progressbar-width"),size:this.$elem.attr("data-progressbar-size")},c),this.init(c)}var c='<div class="{{css}}" data-progressbar-shape="{{shape}}">                <div class="progress progressbar-default" style="width: {{width}}px;">                    <div class="progress-bar" role="progressbar" style="width: {{progress}}; height: {{size}}px;">                    </div>                </div>                <div class="progressbar-circle" style="width: {{width}}px; height: {{width}}px;">                    <div class="progressbar-pie-left" style="clip: rect(0, {{clip-width}}px, auto, 0);">                        <div class="progressbar-left" style="clip: rect(0, {{clip-width}}px, auto, 0);">                        </div>                    </div>                    <div class="progressbar-pie-right" style="clip: rect(0, auto, auto, {{clip-width}}px);">                        <div class="progressbar-right" style="clip: rect(0, auto, auto, {{clip-width}}px);">                        </div>                    </div>                    <div class="progressbar-mask" data-progress="{{progress}}" style="width: {{circle-inner}}px; height: {{circle-inner}}px; left: {{size}}px; top: {{size}}px;"></div>                </div>            </div>';b.prototype={constructor:"Progressbar",init:function(){this.buildDom()},buildDom:function(){this.$progress=a(c.replace("{{css}}",this.config.css).replace(/{{progress}}/gi,this.config.progress).replace(/{{width}}/gi,this.config.width).replace(/{{size}}/gi,this.config.size).replace(/{{clip-width}}/gi,this.config.width/2).replace(/{{circle-inner}}/gi,this.config.width-2*this.config.size).replace(/{{shape}}/gi,this.config.shape)),this.$bar=this.$progress.find(".progress-bar"),this.$circle=this.$progress.find(".progressbar-circle"),this.setProgress(this.config.progress),this.$elem.html(this.$progress)},setProgress:function(a){this.config.progress=a,this.$bar.css("width",a);var b=3.6*parseInt(a),c=this.$circle.find(".progressbar-right"),d=this.$circle.find(".progressbar-left");return this.$circle.find(".progressbar-mask").attr("data-progress",a),180>=b?(d.css("transform","rotate(0deg)"),setTimeout(function(){c.css("transform","rotate("+b+"deg)")},500)):(c.css("transform","rotate(180deg)"),setTimeout(function(){d.css("transform","rotate("+(b-180)+"deg)")},500)),this},getProgress:function(){return this.config.progress},setShape:function(a){return this.config.shape=a,this.init(),this},getShape:function(){return this.config.shape},setWidth:function(a){return this.config.width=a,this.init(),this},getWidth:function(){return this.config.width},setSize:function(a){return this.config.size=a,this.init(),this},getSize:function(){return this.config.size}},a.fn.progressbar=function(a,c){var d=this;return this.each(function(e,f){if(f.progressbarInstance){if(["progress","shape","size","width"].indexOf(a)>-1){var g=a.toLowerCase().replace(/[a-zA-Z]/,function(a){return a.toUpperCase()});c?f.progressbarInstance["set"+g](c):d=f.progressbarInstance["get"+g]()}}else f.progressbarInstance=new b(f,a)}),d},a.fn.progressbar.defaults={css:"",progress:"80%",shape:"default",width:100,size:5}}(jQuery),function(a,b){function c(){0==a(document.body).find("[id*='prompt'][class*='modal fade']").length?(g=a('<div class="modal fade" tabindex="-1" role="dialog" id="prompt-holder">					  <div class="modal-dialog modal-md modal-dialog-ndp">						<div class="modal-content"></div>					  </div>					</div>'),h=a('<div class="modal-header">						  		<button class="close" data-dismiss="modal">						  			<span aria-hidden="true">&times;</span>						  		</button>								<span class="top-title"></span>						    </div>'),i=a('<div class="modal-body"></div>'),j=a('<div class="modal-footer">								<button class="btn btn-default btn-ok" data-dismiss="modal"></button>								<button class="btn btn-default btn-cancel" data-dismiss="modal"></button>						    </div>'),g.find("div.modal-content").append(h).append(i).append(j),a(document.body).append(g)):(i&&i.removeAttr("class").addClass("modal-body"),j&&(j.removeAttr("class").addClass("modal-footer"),j.find("button.btn-ok").addClass("disabled")))}function d(a){j&&(j.find("button.btn-ok:not(.disabled)").unbind("click").click(function(b){a.status="ok"}),j.find("button.btn-ok.disabled").unbind("click").click(function(a){a.preventDefault(),a.stopImmediatePropagation()}))}function e(b,c){var d=this;this.elem=b,this.config=a.extend(!0,{},a.fn.prompt.defaults,c),this.init(),this.status="",this.elem.modal().unbind("hide.bs.modal").on("hide.bs.modal",function(a){a.stopImmediatePropagation(),"ok"==d.status?d.config.onOk():d.config.onCancel()})}function f(a){this.manipulate=function(a){}}var g,h,i,j;a(document).ready(function(){c()}),e.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),d(this),this.elem.find("button.btn-cancel").unbind("click").click(function(a){this.status="cancel"})},e.prototype.concrate=function(a){c()},e.prototype.initConfig=function(){var a=this,b=a.config;b.title?h&&h.find(".top-title").html(b.title):h.find(".top-title").html(""),b.header&&("function"==typeof b.header?b.header(h,g):h.html(b.header)),b.body?(i.empty(),"function"==typeof b.body?b.body(i,g):i.html(b.body)):i&&i.empty(),b.btnOK&&j&&j.find("button.btn-ok").text(b.btnOK),b.btnCANCEL&&j&&j.find("button.btn-cancel").text(b.btnCANCEL),b.footer&&("function"==typeof b.footer?b.footer(j,g):j.html(b.footer)),b.validate&&(b.validate(i)?j.find("button.btn-ok").removeClass("disabled"):j.find("button.btn-ok").addClass("disabled"),d(a))},a.fn.prompt=function(a){var b=this.first(),c=new e(b,a);return f.call(this,c),b},a.fn.prompt.defaults={title:"认证表单",btnOK:"保存",btnCANCEL:"取消",validate:null,header:null,body:null,footer:null,onOk:function(){},onCancel:function(){}},b.showPrompt=function(b){a("#prompt-holder").prompt(b)}}(jQuery,window),function(a){function b(a){var b=a.peal,c=a.list,d=c.get(0).getBoundingClientRect(),e=b.get(0).getBoundingClientRect();window.innerHeight-e.bottom>d.height?(c.removeAttr("style"),a.elem.find("i.glyphicon-menu-down").removeClass("turnback")):e.top>d.height&&(c.css({top:-d.height+"px","box-shadow":"0 0 1px #ccc"}),a.elem.find("i.glyphicon-menu-down").addClass("turnback"))}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.search.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.val=function(b){var c="string"==typeof b||"number"==typeof b?b:b.label||b.text||b.name||b.value;return a.elem.find("input").val(c),a.elem}}c.prototype.init=function(){var c=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.input.focus(function(a){a.stopImmediatePropagation(),c.elem.addClass("focus"),fireEvent(c.elem.get(0),"search_focus"),(3==c.config.type||4==c.config.type)&&c.dropmenu.children().length>0&&c.dropmenu.removeClass("hidden")}),this.input.click(function(a){a.stopImmediatePropagation()}),this.input.blur(function(a){a.stopImmediatePropagation(),c.elem.removeClass("focus")}),this.icon.click(function(){return c.elem.hasClass("disabled")?!1:void fireEvent(c.elem.get(0),"do_search",{text:c.input.val()})}),this.input.keyup(function(b){if(13==b.keyCode&&(3==c.config.type||4==c.config.type)&&(c.dropmenu.addClass("hidden"),fireEvent(c.elem.get(0),"ITEM_SELECT",{text:a(this).val()})),40==b.keyCode){if(0==c.dropmenu.find("li.em").length)c.dropmenu.find("li:first").addClass("em").siblings().removeClass("em");else{var d=parseInt(c.dropmenu.find("li.em").attr("index"))+1,e=c.dropmenu.find("li[index="+d+"]");e.length>0?e.addClass("em").siblings().removeClass("em"):c.dropmenu.find("li:first").addClass("em").siblings().removeClass("em")}var f=c.dropmenu.find("li.em");c.input.val(f.attr("val")),c.wrapper.find(".close-cus").removeClass("hide")}else if(38==b.keyCode){if(0==c.dropmenu.find("li.em").length)c.dropmenu.focus().find("li:last").addClass("em").siblings().removeClass("em");else{var g=parseInt(c.dropmenu.find("li.em").attr("index"))-1;e=c.dropmenu.find("li[index="+g+"]"),e.length>0?e.addClass("em").siblings().removeClass("em"):c.dropmenu.find("li:last").addClass("em").siblings().removeClass("em")}f=c.dropmenu.find("li.em"),c.input.val(f.attr("val")),c.wrapper.find(".close-cus").removeClass("hide")}}),this.input.on("input",function(b){a(this);if(b.stopImmediatePropagation(),3==c.config.type||4==c.config.type){c.wrapper.addClass("loading");var d=c.config.ajaxOptions,e=a(this).val();d.data={key:e},a.ajax(d).then(function(b){"string"==typeof b&&(b=JSON.parse(b)),c.dropmenu.empty(),b.data.forEach(function(a,b){var d="string"==typeof a?a:a.text||a.label||a.name,f=new RegExp("["+e+"]+","i"),g=new RegExp(e,"i");if(String(d).match(g))var h=String(d).match(g)[0];else h=String(d).match(f)?String(d).match(f)[0]:"";var i=h.length,j=new RegExp(h,"i"),k=d.search(j),l=d.split("");l.splice(k,0,"<em>"),l.splice(k+i+1,0,"</em>");var m=l.join(""),n='<li val="'+d+'" index='+b+" tabIndex="+b+'><a href="#">'+(m||d)+"</a></li>";c.dropmenu.append(n)}),c.dropmenu.removeClass("hidden"),c.wrapper.removeClass("loading"),c.dropmenu.find("li").unbind("click").click(function(b){b.stopImmediatePropagation();var d=a(this).attr("val");c.input.val(d),c.dropmenu.addClass("hidden"),c.wrapper.find(".close-cus").removeClass("hide"),fireEvent(c.elem.get(0),"ITEM_SELECT",{text:d})})},function(a){c.wrapper.removeClass("loading")})}fireEvent(c.elem.get(0),"INPUT_CHANGE",{text:a(this).val()})}),this.elem.find("span.search-drop").click(function(a){return a.stopImmediatePropagation(),c.elem.hasClass("disabled")?!1:(c.elem.find("ul.search-drop-wrapper").toggleClass("hidden"),void(c.elem.find("ul.search-drop-wrapper").hasClass("hidden")||b(c)))}),this.elem.find("li.search-item").click(function(b){if(b.stopImmediatePropagation(),c.elem.hasClass("disabled"))return!1;var d=a(this).attr("val"),e=a(this).attr("index");return c.elem.find("ul.search-drop-wrapper").toggleClass("hidden"),e==c.elem.find("span.selected-item").attr("index")?!1:(c.elem.find("span.selected-item").text(d).attr({index:e,val:d,name:d}),void fireEvent(c.elem.get(0),"SCOPE_CHANGE",{index:e,value:d}))}),this.wrapper.find(".close-cus").click(function(b){b.stopImmediatePropagation(),fireEvent(c.wrapper.get(0),"INPUT_CLEAR",{text:c.input.val()}),a(this).addClass("hide"),c.input.val("").removeAttr("name")}),a(document).click(function(a){c.elem.find("ul.search-drop-wrapper").addClass("hidden"),c.elem.find(".dropdown-menu-cus").addClass("hidden")})},c.prototype.concrate=function(b){this.wrapper=a("<div class='search-decoration' />"),this.input=a("<input class='form-control search-input' type='text' />"),this.wrapper.append(this.input),this.dropmenu=a('<ul class="dropdown-menu dropdown-menu-cus hidden" />'),this.wrapper.append(this.dropmenu),this.elem.append(this.wrapper)},c.prototype.initConfig=function(){var b=this,c=this.config;if(2==c.type||4==c.type){this.peal=a("<span class='search-drop'/>");var d=a("<span class='selected-item' tabIndex='-1' />");if(this.peal.append(d).append("<i class='drop-spliter'></i>"),c.dropList&&c.dropList.length>0){this.list=a("<ul  class='search-drop-wrapper hidden'/>");for(var e=0;e<c.dropList.length;e++){var f=c.dropList[e];if("object"==typeof f)var g=f.name||f.label||f.text;else g=f;0==e&&d.text(g).attr("index",0);var h=a("<li class='search-item' />").text(g).attr({index:e,val:g,title:g});b.list.append(h)}this.peal.append(b.list).append("<i class='glyphicon glyphicon-menu-down' />")}this.elem.prepend(this.peal),this.wrapper.css({width:"70%"}),this.peal.css("line-height",this.elem.height()+"px")}else this.wrapper.removeAttr("style");if(3==c.type||4==c.type){var i=b.wrapper.height(),j=a('<div class="spinner">						  <div class="bounce1"></div>						  <div class="bounce2"></div>						  <div class="bounce3"></div>						</div>').css({"line-height":i+"px",height:i+"px"}),k=parseFloat(b.input.css("height")),l=a('<span class="close close-cus hide">&times;</span>').css("right",k+"px");b.wrapper.append(j).append(l)}if(c.magicon){this.icon=a(c.magicon),this.wrapper.append(this.icon);var m=this.elem.height();this.input.css({width:b.wrapper.width()-m-2+"px",height:m+"px","line-height":m+"px"}),this.icon.css({width:m+"px",height:m+"px","line-height":m+"px"})}c.placeholder&&this.input.attr("placeholder",c.placeholder),c.disabled?(this.elem.removeClass("focus").addClass("disabled"),this.input.attr("disabled",!0),this.peal&&this.peal.addClass("disabled")):(this.input.removeAttr("disabled"),this.elem.removeClass("disabled"),this.peal&&this.peal.removeClass("disabled")),c.name&&this.input.attr("name",c.name)},a.fn.search=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.search;a.fn.search.Constructor=c,a.fn.search.noConflict=function(){return a.fn.search=e,this},a.fn.search.defaults={type:1,name:"search",magicon:"<i class='glyphicon glyphicon-search'></i>",placeholder:"",disabled:!1,dropList:[],ajaxOptions:{type:"GET",url:"../data/search.json",xhrFields:{withCredentials:!0}}}}(jQuery),function(a){function b(b,c){this.$elem=b,"show"===c?this.show():"hide"===c?this.hide():"toggle"===c?this.toggle():(this.config=a.extend(!0,{},a.fn.sidepanel.defaults,b.data(),c),this.init())}function c(a){this.manipulate=function(a){}}b.prototype.init=function(){var a=this;this.concrate(),this.events(),this.initConfig(),setTimeout(function(){a.show()},200)},b.prototype.hide=function(){this.$elem.removeClass("with-full-sidepanel-panel")},b.prototype.show=function(){this.$elem.addClass("with-full-sidepanel-panel")},b.prototype.toggle=function(){this.$elem.hasClass("with-full-sidepanel-panel")?this.hide():this.show()},b.prototype.events=function(a){var b=this;b.$elem.off("click",".sidepanel-panel .close,.sidepanel-panel .btn-default").on("click",".sidepanel-panel .close,.sidepanel-panel .btn-default",function(a){b.hide()}),b.$elem.off("click",".sidepanel-panel .btn-primary").on("click",".sidepanel-panel .btn-primary",function(a){b.config.callback&&b.config.callback(b.$elem)})},b.prototype.concrate=function(b){var c=this,d='<div class="sidepanel-panel">    <div class="panel panel-default">        <div class="panel-heading">            <button type="button" class="close sidepanel-close" aria-label="Close">                <span aria-hidden="true">×</span>            </button>            <h3 class="panel-title">Panel title</h3>        </div>        <div class="panel-body">            Panel content        </div>        <div class="panel-footer">            <div class="btn-toolbar pull-right" role="toolbar" aria-label="Toolbar with button groups">                <button type="button" class="btn btn-primary">确定</button>                <button type="button" class="btn btn-default">取消</button>            </div>        </div>    </div></div>';c.$root=a(d),c.$root.find(".panel-title").text(c.config.title),c.$root.find(".panel-body").html(c.config.content),a(".sidepanel-panel").remove(),this.$elem.append(c.$root)},b.prototype.initConfig=function(){var a=this;a.config.rm&&a.tabwrapper.find("li>a").append("<i class='glyphicon glyphicon-remove transparent'></i>")},a.fn.sidepanel=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.sidepanel;a.fn.sidepanel.Constructor=b,a.fn.sidepanel.noConflict=function(){return a.fn.sidepanel=d,this},a.fn.sidepanel.defaults={title:"title",content:"content",callback:null}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.sinput.defaults,b.data(),c),this._width=this.elem.width(),this.init()}function c(a){this.val=function(b){var c="string"==typeof b||"number"==typeof b?b:b.label||b.text||b.name||b.value;return a.elem.find("input").val(c),a.elem},this.warning=function(b){return a.elem.toggleClass("warning",b?!0:b),a.elem},this.fail=function(b){return a.elem.toggleClass("fail",b?!0:b),a.elem}}b.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.input.on("focus",function(a){b.elem.addClass("active")}),this.input.on("blur",function(a){b.elem.removeClass("active")}),b.config.xion&&b.elem.find("span.xion-cus").click(function(){a(this).hasClass("switcher")&&(a(this).find("label>input[type=checkbox]").is(":checked")?(a(this).find("label").addClass("active"),b.input.attr("type","text")):(a(this).find("label").removeClass("active"),b.input.attr("type","password"))),fireEvent(b.elem.get(0),"ICON_CLICK")}),2==b.config.type&&(b.stepup.click(function(c){var d=parseFloat(b.input.val());d+=b.config.step,d>b.config.max&&(d=b.config.max),b.input.val(d),fireEvent(a(this).get(0),"STEP_CHANGE",{val:d})}),b.stepdown.click(function(c){var d=b.input.val();d-=b.config.step,d<b.config.min&&(d=b.config.min),b.input.val(d),fireEvent(a(this).get(0),"STEP_CHANGE",{val:d})}),b.input.keyup(function(c){/^[\-\.]?(\d+)?\.?(\d+)?$/.test(a(this).val())?(b.input.val()>b.config.max?b.input.val(b.config.max):b.input.val()<b.config.min&&b.input.val(b.config.min),b.elem.removeClass("warning")):b.elem.addClass("warning")}))},b.prototype.concrate=function(b){var c=this;c.elem.attr("tabindex","-1"),c.input=a("<input type="+c.config.inputType+" />"),c.elem.append(c.input)},b.prototype.initConfig=function(){var b=this,c=b.config;if(c.placeholder&&b.input.attr("placeholder",c.placeholder),c["default"]&&b.input.val(c["default"]),c.name&&b.input.attr("name",c.name),c.xion&&2!=c.type){var d=this.elem.height(),e=a(c.xion).addClass("xion-cus").css({width:d-2+"px",height:d+"px",lineHeight:d+4+"px"});"left"==c.pos?(b.elem.prepend(e),b.input.css({left:d+"px",paddingLeft:"0"})):(b.elem.append(e),b.input.css({paddingRight:"0"})),b.input.css({width:this._width-d+"px"})}if(2==c.type){var f=c["default"]||c.min||0;b.stepwrapper=a("<span class='step-wrapper'></span>"),b.stepup=a("<i class='glyphicon glyphicon-triangle-top'></i>"),b.stepdown=a("<i class='glyphicon glyphicon-triangle-bottom'></i>"),b.stepwrapper.append(b.stepup).append(b.stepdown),b.input.css("width",b._width-20+"px"),b.elem.append(b.stepwrapper),b.input.val(f)}c.title&&(b.title=a("<em class='sinput-title'/>").text(c.title),b.elem.append(b.title)),c.disabled&&(b.input.attr("disabled",!0),b.elem.attr("disabled",!0))},a.fn.sinput=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var d=a.fn.sinput;a.fn.sinput.Constructor=b,a.fn.sinput.noConflict=function(){return a.fn.sinput=d,this},a.fn.sinput.defaults={type:1,name:"uname",title:"",xion:"",pos:"right",placeholder:"请输入文字",inputType:"text",min:0,max:1/0,step:1,"default":null,disabled:!1}}(jQuery),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.sutable.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function c(a){this.manipulate=function(a){},this.toolbar=function(b){a.toolbar.toggleClass("active",b)},this.resize=function(b){a.allocate(b)},this.fold=function(b){var c=a.elem.find(".sutable-body>.sutable-item");return c.toggleClass("open"),a.elem},this.update=function(b){return a.elem.find(".sutable-body").remove(),d.recursive(a.elem,b,a.config),a.listenBody(),a.elem}}var d={recursive:function(b,c,d,e){var e=arguments[3]||0;arguments[4]||5;e++;var f=arguments.callee,g=a("<ul role='table' />");if(e>1)g.addClass("sub-layer");else{g.addClass("sutable-body")}for(var h=0;h<c.length;h++){var i=c[h],j=i[d.subKey]||i.sub||i.son||i.next||i.group,k=i[d.textKey]||i.text||i.label||i.title||i.name,l=a("<li class='sutable-item'  deep="+e+"  serial="+i.id+" />"),m=a('<div class="sutable-row-wrapper">'),n=a('<div class="sutable-row" deep='+e+" serial="+i.id+" ></div>"),o=a('<i class="font-icon font-icon-edit" serial='+i.id+'></i><i class="font-icon font-icon-copy" serial='+i.id+"></i>");if(m.append(n),k.forEach(function(b,c){var e='<span class="switcher">				<label class = "active" ><input type = "checkbox" class = "scheckbox"> </label></span>',f=a('<span class="sutable-col" col='+c+" />");if(d.colDims&&d.colDims.length&&f.css("width",d.colDims[c]+"px"),0==c?f.addClass("sutable-col-name"):1==c?f.addClass("sutable-col-status"):c==k.length-2?(f.addClass("sutable-col-oc"),f.html(e)):c==k.length-1&&(f.addClass("sutable-col-operation"),f.html(o)),c<=k.length-3){if("object"==typeof b)var g=b.label||b.text||b.name;g=g||b,f.html(g),1!=c&&f.attr("title",g),0==c?f.html("<span>"+g+"</span>"):1==c&&2==b.value&&f.html("<i class='font-icon font-icon-attention'></i>"+g).addClass("attention")}n.append(f)}),j&&j instanceof Array){var p=a('<span class="btn-plus-minus" />');d.caret?p.html(d.caret).addClass("custom-caret"):p.html('<i class="line-hor"></i><i class="line-ver"></i>'),l.append(p).append(m).addClass("open"),m.addClass("asparent"),f(l,j,d,e)}else l.append(m);g.append(l)}e>1&&g.append("<li class='sutable-item sutable-item-spec' deep="+e+">+"+("2"==e?"新增广告组":"新增广告")+"</li>"),b.append(g)}};b.prototype.scrollV=function(){var b=this,c=b.scroll.get(0).getBoundingClientRect(),d=b.scroll.find(".horiz-thumb"),e=d.get(0).getBoundingClientRect(),f=this.elem.width(),g=52;this.head.find(".sutable-col[col]").each(function(b,c){g+=a(c).width()}),e.left<c.left?d.css("left",c.left+"px"):e.right>c.right&&d.css("left",c.right-c.width+"px"),b.foot.toggleClass("repos",g>f?!0:!1),b.scroll.toggleClass("show",g>f?!0:!1).css("width",f+"px"),b.elem.toggleClass("extend",g>f?!0:!1),g>f&&d.css("width",f/g*100+"%")},b.prototype.listenBody=function(){var b=this;b.elem.find("span.btn-plus-minus").unbind("click").click(function(b){b.stopImmediatePropagation();var c=a(this).parents("li.sutable-item:first");c.toggleClass("open"),c.find("li.sutable-item").toggleClass("open",c.hasClass("open"))}),b.elem.find(".sutable-col-oc>.switcher").click(function(b){var c=a(this).find("input[type=checkbox]:checked").length?1:0,d=a(this).parents(".sutable-row[serial]:first").attr("serial");fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"switch",value:c,id:d})}),b.elem.find(".sutable-col-oc>.switcher>label>input").unbind("click").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();if(d.toggleClass("active"),!d.hasClass("active")){var e=a(this).parents(".sutable-item:first");e.find("ul .switcher>label").removeClass("active")}fireEvent(b.elem.get(0),"STATUS_CHANGE",{status:d.hasClass("active")})}),b.elem.find("i.font-icon-edit").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"edit",id:a(this).attr("serial")})}),b.elem.find("i.font-icon-copy").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"copy",id:a(this).attr("serial")})}),b.elem.find(".sutable-body .sutable-row .sutable-col-name>span").unbind("click").click(function(b){fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"name",id:a(this).attr("serial")})}),b.elem.find(".sutable-item-spec").unbind("click").click(function(b){var c=a(this).attr("deep"),d=a(this).prev().attr("serial"),e="2"==c?0:(c="3")?1:2;fireEvent(a(this).get(0),"OPERATE_ACTION",{action:"addnew",preid:d,type:e})})},b.prototype.init=function(){var b=this;this.concrate(),this.initConfig(),b.elem.on("dragstart",function(){return!1}),b.head.find(".sort-wrapper").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();a(this).children().toggleClass("hi");var e=d.siblings();e.find(".sort-wrapper").children("i").removeClass("hi"),e.find(".sort-wrapper").children("i.glyphicon-triangle-bottom").addClass("hi"),fireEvent(b.elem.get(0),"SORT_CLICK",{col:parseInt(d.attr("col")),val:d.text()})}),b.elem.find("span.inspliter").mousedown(function(c){var d=a(this).parent(),e=d.attr("col"),f=a(".sutable-col[col="+e+"]"),g=(window.getComputedStyle(f.get(0)).minWidth,a(this).get(0).getBoundingClientRect()),h=b.elem.get(0).getBoundingClientRect(),i=g.left-h.left+g.width;b.elem.find(".split-line").css("left",i+"px").addClass("active"),b.elem.addClass("resize-cursor"),b.elem.off("mousemove").mousemove(function(c){c.stopImmediatePropagation();var g=c.clientX-h.left+1,j=c.clientX-d.get(0).getBoundingClientRect().left;if(a(this).find(".split-line").css("left",g+"px"),g>i)f.css("width",j+"px");else{var k=parseInt(e)+1;a(".sutable-col[col="+k+"]");f.css("width",j+"px")}b.config.colDims[e]=j})}),b.elem.mouseleave(function(c){c.stopImmediatePropagation(),a(this).unbind("mousemove"),b.elem.trigger("RESIZE_DONE")}),b.elem.mouseup(function(a){a.stopImmediatePropagation(),b.elem.removeClass("resize-cursor"),b.elem.find(".split-line").removeClass("active"),b.elem.unbind("mousemove"),b.scrollV(),b.elem.trigger("RESIZE_DONE")}),b.listenBody(),a(window).resize(function(a){b.config.wi=b.elem.width(),b.allocate(b.config.wi)})},b.prototype.concrate=function(){this.head=a("<ul class='sutable-header' role='table' />").html('<li class=" sutable-row"></li>'),this.elem.append("<span class='split-line'></span>"),this.elem.append(this.head)},b.prototype.initConfig=function(){var b=this,c=this.config;if(c.head&&c.head.forEach(function(d,e){var f=a("<span class='sutable-col' col="+e+" />");0==e?f.addClass("sutable-col-name"):1==e?f.addClass("sutable-col-status"):e==c.head.length-2?f.addClass("sutable-col-oc"):e==c.head.length-1&&f.addClass("sutable-col-operation"),"object"==typeof d?f.text(d.label||d.text||d.name):f.text(d),b.head.find(".sutable-row").append(f)}),this.allocate(c.wi),c.body&&d.recursive(b.elem,c.body,c),c.tail){b.foot=a("<ul class='sutable-footer '><li class='sutable-item sutable-row'></li></ul>"),b.foot.find(".sutable-item").append("<span class='sutable-col sutable-col-sum'>总计</span>");var e=c.colDims.slice(2);c.tail.forEach(function(c,d){var f=a("<span class='sutable-col' />").text(c.text||c.label||c.value||c);e[d]&&f.css("width",e[d]+"px"),b.foot.find(".sutable-item").append(f)}),b.elem.append(b.foot)}if(c.sort){var f="<span class='sort-wrapper'><i class='glyphicon glyphicon-triangle-top'></i><i class='glyphicon glyphicon-triangle-bottom hi'></i></span>";c.sort instanceof Array?c.sort.forEach(function(a,c){b.head.find(".sutable-col[col="+a+"]").append(f)}):""==c.sort&&b.head.find(".sutable-col").append(f)}b.head.find(".sutable-col:gt(0):not(:eq(11))").append("<i class='font-icon font-icon-help'></i>")},b.prototype.allocate=function(a){var a=a||this.elem.width(),b=this.elem,c=this.config,d=a-226-96-40-72-62,e=d/(c.head.length-4);c.colDims=[226,96],b.find(".sutable-col:gt(1):lt("+(c.head.length-3)+")").css("width",e+"px").each(function(){c.colDims.push(e)}),c.colDims.push(72,62)},a.fn.sutable=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var e=a.fn.sutable;a.fn.sutable.Constructor=b,a.fn.sutable.noConflict=function(){return a.fn.sutable=e,this},a.fn.sutable.defaults={head:null,body:null,tail:null,caret:null,sort:null,namecall:function(){},editcall:function(){},copycall:function(){}}}(jQuery),function($){function fill(a,b){var c=arguments;if(a instanceof Array)for(var d=0;d<a.length;d++){var e=a[d],f="string"==typeof e||"number"==typeof e?e:e.name||e.txt;if(c[2])var g=$('<span class="ndp-table-col" title='+f+" col="+d+' ><span class="head-txt">'+f+"</span></span>");else g=$('<span class="ndp-table-col" title='+f+" col="+d+" >"+f+"</span>");b.append(g)}else Object.keys(a).forEach(function(d,e){g=$(c[2]?'<span class="ndp-table-col" title='+a[d]+" col="+e+' ><span class="head-txt">'+a[d]+"</span></span>":'<span class="ndp-table-col" title='+a[d]+"  col="+e+">"+a[d]+"</span>"),b.append(g)});return b}function Table(a,b){this.elem=a,this.config=$.extend(!0,{},$.fn.table.defaults,a.data(),b),this.init()}function exchange(a){this.update=function(b){return a.body.empty(),a.buildBody(b),a.elem}}var self=this,rats=[],sortString='<div class="sort-direct">						<i class="glyphicon glyphicon-triangle-top"></i>						<i class="glyphicon glyphicon-triangle-bottom active"></i>					 </div>';Table.prototype.init=function(){this.elem.addClass(this.config.containerClass),this.head=$("<ul>").addClass(this.config.headClass),this.body=$("<ul>").addClass(this.config.bodyClass),this.buildHead(),this.buildBody(this.config.data),this.elem.append(this.head).append(this.body),this.initConfig(),this.head.find(".sort-direct").click(function(a){a.stopPropagation();var b=$(this).parent();fireEvent($(this).get(0),"SORT_CHANGE",{col:parseInt(b.attr("col")),name:b.attr("title")})}),this.body.find(".ndp-table-row").click(function(a){a.stopPropagation();var b=$(this).index();fireEvent($(this).get(0),"ROW_CLICK",{row:b})}),this.head.find(".ndp-table-col").click(function(a){fireEvent($(this).get(0),"COL_CLICK",{col:parseInt($(this).attr("col")),name:$(this).attr("title")})})},Table.prototype.buildHead=function(){var a=this,b=0,c=this.config.head;if(this.textLen=[],c instanceof Array)for(var d=0;d<c.length;d++){var e=c[d],f="string"==typeof e?e.length:(e.name||e.txt).length;a.textLen.push(f),b+=f}else Object.keys(c).forEach(function(d){f=c[d].length,a.textLen.push(f),b+=f});this.textLen.forEach(function(c,d){a.textLen[d]=(c/b*100).toFixed(2)}),this.head.append(fill(c,$('<li class="ndp-table-row">'),1)),"all"==this.config.sort?a.head.find("li.ndp-table-row>span").append(sortString):this.config.sort instanceof Array&&this.config.sort.forEach(function(b){a.head.find("li.ndp-table-row>span:nth-child("+(b+1)+")").append(sortString);
}),this.head.find("span.ndp-table-col:not(:nth-last-child(1))").append('<i class="col-spliter"></i>'),this.textLen.forEach(function(b,c){a.head.find("span.ndp-table-col:nth-child("+(c+1)+")").css("width",b+"%")})},Table.prototype.buildBody=function(a){for(var b=this,c=0;c<a.length;c++){var d=$('<li class="ndp-table-row">');this.config.activeRow>=0&&this.config.activeRow==c&&d.addClass("active");var e=a[c];b.body.append(fill(e,d))}b.head.find("span.ndp-table-col").each(function(a,c){var d=parseFloat($(c).attr("style").match(/([\d.]+?)\%/i)[1]);b.body.find("span.ndp-table-col:nth-child("+(a+1)+")").css("width",d+"%")})},Table.prototype.initConfig=function(){var self=this,cfg=this.config;if(cfg.colClass&&this.elem.find("li>span.ndp-table-col").addClass(cfg.colClass),cfg.colNail&&this.head.find("span.ndp-table-col").unbind("click").click(function(a){var b=$(this).index();self.elem.find("span.ndp-table-col").removeClass("active"),self.elem.find("span.ndp-table-col:nth-child("+(b+1)+")").addClass("active")}),cfg.colNail&&cfg.activeCol>=0&&(this.head.find("li>span.ndp-table-col:nth-child("+(cfg.activeCol+1)+")").addClass("active"),this.body.find("li>span.ndp-table-col:nth-child("+(cfg.activeCol+1)+")").addClass("active")),cfg.rowNail&&this.body.find("li.ndp-table-row").unbind("click").click(function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active"),$(this).siblings().removeClass("active")}),cfg.listHeight&&parseFloat(cfg.listHeight)){var rh=this.head.find("li.ndp-table-row").height()+2,h=parseFloat(cfg.listHeight)-rh;if(this.body.css("height",h+"px"),40*this.body.children().length>h){var w=this.body.width();this.body.find("li.ndp-table-row").width(w-15)}}if(cfg.sort){var keys=Object.keys(cfg.data[0]);this.head.find(".sort-direct").unbind("click").click(function(a){var b=$(this).parent(),c=b.index();b.siblings().find(".sort-direct>i.glyphicon-triangle-bottom").addClass("active"),b.siblings().find(".sort-direct>i.glyphicon-triangle-top").removeClass("active");var d=$(this).find(".glyphicon.active");d.removeClass("active").siblings("i.glyphicon").addClass("active");var e=d.hasClass("glyphicon-triangle-bottom")?!1:!0;self.body.empty(),isNaN(cfg.data[0][keys[c]])?cfg.data.sort(function(a,b){return e?b[keys[c]].localeCompare(a[keys[c]]):a[keys[c]].localeCompare(b[keys[c]])}):cfg.data.sort(function(a,b){return e?a[keys[c]]-b[keys[c]]:b[keys[c]]-a[keys[c]]}),self.buildBody(cfg.data)})}this.head.find("i.col-spliter").unbind("mousedown").mousedown(function(e){e.preventDefault();var the=$(this).parent(),nextCol=the.next(),preCol=the.prev(),index=the.index(),liw=self.elem.find("li.ndp-table-row").width();self.elem.find("span.ndp-table-col:nth-child("+(index+1)+")").addClass("highLight");var next=self.elem.find("span.ndp-table-col:nth-child("+(index+2)+")"),the=self.elem.find("span.ndp-table-col:nth-child("+(index+1)+")"),all=[];self.head.find("span.ndp-table-col").each(function(a,b){all.push(parseFloat($(b).attr("style").match(/([\d.]+?)\%/i)[1]))}),$(document).unbind("mousemove").mousemove(function(e){var o=the.get(0).getBoundingClientRect(),no=next.get(0).getBoundingClientRect(),ntw=e.pageX-o.left,nxw=no.right-e.pageX;if(ntw>80&&nxw>80&&Math.abs(e.pageX-o.right)>=1){var val1=(ntw/liw*100).toFixed(2),val2=(eval(all.concat().splice(index,2).join("+"))-val1).toFixed(2);the.css("width",val1+"%"),next.css("width",val2+"%")}})}),$(document).unbind("mouseup").on("mouseup",function(){$("span.ndp-table-col.highLight").removeClass("highLight"),$(document).unbind("mousemove")})},$.fn.table=function(a){var b=this.first(),c=new Table(b,a);return b=$.extend(!0,{},b,new exchange(c))};var old=$.fn.table;$.fn.table.Constructor=Table,$.fn.table.noConflict=function(){return $.fn.table=old,this},$.fn.table.defaults={head:["col1","col2","col3","col4"],data:[],containerClass:"",headClass:"ndp-table-header",bodyClass:"ndp-table-body",colClass:"",rowNail:!1,colNail:!1,activeRow:NaN,activeCol:NaN,rowHeight:null,listHeight:null,sort:null}}(jQuery),function(a){function b(b){setTimeout(function(){var c=b.tabwrapper.children("li:last").get(0).getBoundingClientRect().right,d=b.elem.get(0).getBoundingClientRect().right,e=b.config.negClass;d>c?a(b.elem.find("span.more-tabs")).addClass(e).attr("stop",!0):a(b.elem.find("span.more-tabs")).removeClass(e).removeAttr("stop")},250)}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.tabs.defaults,b.data(),c),this.init()}function d(a){this.val=function(b){return a.tabwrapper.find("li[role=presentation][index='"+b+"']").addClass("active").siblings().removeClass("active"),a.elem}}c.prototype.init=function(){var c=this,d=null;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),this.tabwrapper.find("li").click(function(b){if(!a(this).hasClass("active")){a(this).addClass("active").siblings().removeClass("active");var d=parseInt(a(this).attr("index"));fireEvent(c.elem.get(0),"TAB_CHANGE",{index:d,name:c.config.list[d]})}}),c.config.rm&&(this.tabwrapper.find("li>a>i").click(function(b){b.preventDefault();var d=parseInt(a(this).parent().parent().attr("index")),e=c.tabwrapper.find("li[index="+d+"]"),f=e.hasClass("active");e.remove(),f&&c.tabwrapper.find("li:eq(0)").addClass("active"),1==c.tabwrapper.children().length&&c.tabwrapper.find("li>a>i").addClass("hidden");var g=parseInt(c.tabwrapper.find("li.active").attr("index"));fireEvent(c.elem.get(0),"TAB_REMOVED",{rm:c.config.list[d],active:c.config.list[g],current:g})}),this.tabwrapper.find("li").mouseenter(function(){a(this).find("i").removeClass("transparent")}),this.tabwrapper.find("li").mouseleave(function(){a(this).find("i").addClass("transparent")})),c.preButton.unbind("click").click(function(e){var f=this;clearTimeout(d),d=setTimeout(function(){var d=parseInt(a(f).attr("now"));if(0==d)return!1;a(f).attr("now",d);var e=c.tabwrapper.find("li[index="+(d-1)+"]").width(),g=parseInt(c.tabwrapper.css("left"));c.tabwrapper.css("left",g+e+"px"),d--,a(f).attr("now",d),c.moreButton.attr("now",d),0==d&&a(f).addClass(c.config.negClass),b(c)},250)}),c.moreButton.click(function(e){var f=this;clearTimeout(d),d=setTimeout(function(){if(a(f).attr("stop"))return e.preventDefault(),e.stopImmediatePropagation(),!1;var d=parseInt(a(f).attr("now"));a(f).attr("now",d);var g=c.tabwrapper.find("li[index="+d+"]").width(),h=parseInt(c.tabwrapper.css("left"));c.tabwrapper.css("left",h-g+"px"),d++,a(f).attr("now",d),c.preButton.attr("now",d),d>0&&c.preButton.removeClass(c.config.negClass),b(c)},250)})},c.prototype.concrate=function(b){var c=this;this.tabwrapper=a("<ul class='nav nav-tabs nav-tabs-cus' style='left:0;'/>"),c.config.list.forEach(function(b,d){if("object"==typeof b)var e=b.name||b.text||b.label||b.tab,f=b.badge;else e=b;var g=a("<li role='presentation' value="+e+"  index="+d+" title="+e+" ><a href='#'>"+e+"</a></li>");d==c.config["default"]&&g.addClass("active"),c.config.badge&&f&&g.find("a").append("<span class='badge'>"+f+"</span>"),c.tabwrapper.append(g)}),this.elem.append(c.tabwrapper)},c.prototype.initConfig=function(){var b=this;b.config.rm&&b.tabwrapper.find("li>a").append("<i class='glyphicon glyphicon-remove transparent'></i>"),b.elem.addClass("specialWrapper"),b.tabwrapper.addClass("one-line"),b.tabwrapper.find("li").addClass("carousel"),b.preButton=a("<span class='more-button pre-tabs disabled' now='0'><i class='glyphicon glyphicon-chevron-left'></i></span>"),b.moreButton=a("<span class='more-button more-tabs' now='0'><i class='glyphicon glyphicon-chevron-right'></i></span>"),b.elem.prepend(b.preButton).append(b.moreButton);var c=b.tabwrapper.children("li:last").get(0).getBoundingClientRect().right,d=b.elem.get(0).getBoundingClientRect().right;d>=c&&(b.moreButton.hide(),b.preButton.hide())},a.fn.tabs=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.tabs;a.fn.tabs.Constructor=c,a.fn.tabs.noConflict=function(){return a.fn.tabs=e,this},a.fn.tabs.defaults={"default":0,list:[],badge:!1,rm:!1,negClass:"disabled"}}(jQuery),function(a,b){var c={holdon:30,type:"info",through:!0,close:!1,content:"这里填写你想要展示的提示内容！~~"};a(document).ready(function(){var d=a(document.body),e=null;if(0==d.find("div[class*='tip']").length){var f=a("<div class='tip'><span class='icon-hold'></span><span class='content-hold'></span><span class='close-hold' aria-hidden='true'></span></div>");d.prepend(f)}b.showTip=function(b){var d=a.extend(!0,{},c,b);if(e&&clearTimeout(e),f.removeAttr("style").removeAttr("class").addClass("tip"),f.find("span.close-hold").empty(),f.find("span.icon-hold").empty(),f.find("span.content-hold").html(d.content),d.close&&f.find("span.close-hold").html("&times;"),d.icon&&f.find("span.icon-hold").html(d.icon).css("margin-right","5px"),!d.through){f.addClass("tip-spec");var g=window.innerWidth;960>=g?f.css({width:"100%","margin-left":0}):d.content.length<100&&f.css({width:"50%","margin-left":"25%"})}return f.addClass("alert alert-"+d.type),d.holdon&&/^[\-\.]?(\d+)?\.?(\d+)?$/.test(d.holdon)&&(e=setTimeout(function(){f.css("opacity",0).removeClass("alert"),fireEvent(f.get(0),"TIP_CLOSE")},1e3*d.holdon)),f},f.find("span.close-hold").unbind("click").click(function(a){a.stopImmediatePropagation(),f.css("opacity",0).removeClass("alert"),e&&clearTimeout(e),fireEvent(f.get(0),"TIP_CLOSE")})})}(jQuery,window),function(a){function b(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.treable.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function c(a){this.manipulate=function(a){},this.toolbar=function(b){a.toolbar.toggleClass("active",b)},this.resize=function(b){a.allocate(b)},this.fold=function(b){var c=a.elem.find(".treable-body>.sutable-item");return c.toggleClass("open"),a.elem},this.update=function(b){return a.elem.find(".treable-body").remove(),d.recursive(a.elem,b,a.config),a.listenBody(),a.elem}}var d={recursive:function(b,c,d,e){var e=arguments[3]||0;arguments[4]||5;e++;var f=arguments.callee,g=a("<ul role='table' />");if(e>1)g.addClass("sub-layer");else{g.addClass("treable-body")}for(var h=0;h<c.length;h++){var i=c[h],j=i[d.subKey]||i.sub||i.son||i.next||i.group,k=i[d.textKey]||i.text||i.label||i.title||i.name,l=i.id,m=a("<li class='sutable-item'  deep="+e+" />");l&&m.attr("data-id",l);var n=a('<div class="treable-row-wrapper">'),o=a('<div class="treable-row" deep='+e+"></div>");1==e&&o.addClass("treable-row-wrapper-parent");var p=a("<div class='chart-wrapper' />"),q='<button type="button" class="close chart-close"><span aria-hidden="true">&times;</span></button>',r=a('<div class="ndp-tab-wrapper" deep='+e+" index="+h+' role="table" ></div>');if(r.tabs({list:["堆积图","趋势图","线状图"]}),p.append(r).append(q),n.append(o).append(p),k.forEach(function(b,c){var e='<span class="switcher">				<label class = "active" ><input type = "checkbox" class = "scheckbox"> </label></span>',f=a('<span class="sutable-col" col='+c+" />");if(d.colDims&&d.colDims.length&&f.css("width",d.colDims[c]+"px"),0==c?(f.addClass("sutable-col-status"),f.html(e),"object"==typeof b&&b.status===!1&&(f.find('[type="checkbox"]').attr("checked",!1),f.find("label.active").removeClass("active"))):1==c&&f.addClass("sutable-col-name"),c>0)if("object"==typeof b){var g=b.label||b.text||b.name;f.attr({"data-val":g,title:g}).html(g)}else f.attr({"data-val":g,title:g}).html(b);o.append(f)}),j&&j instanceof Array){var s=a('<span class="btn-plus-minus" />');d.caret?s.html(d.caret).addClass("custom-caret"):s.html('<i class="line-hor"></i><i class="line-ver"></i>'),m.append(s).append(n).addClass("open"),f(m,j,d,e)}else m.append(n);g.append(m)}b.append(g)}};b.prototype.scrollV=function(){var b=this,c=b.scroll.get(0).getBoundingClientRect(),d=b.scroll.find(".horiz-thumb"),e=d.get(0).getBoundingClientRect(),f=this.elem.width(),g=52;this.head.find(".sutable-col[col]").each(function(b,c){g+=a(c).width()}),e.left<c.left?d.css("left",c.left+"px"):e.right>c.right&&d.css("left",c.right-c.width+"px"),b.foot.toggleClass("repos",g>f?!0:!1),b.scroll.toggleClass("show",g>f?!0:!1).css("width",f+"px"),b.elem.toggleClass("extend",g>f?!0:!1),g>f&&d.css("width",f/g*100+"%")},b.prototype.listenBody=function(){var b=this;b.elem.find("button.close.chart-close").unbind("click").click(function(b){b.stopImmediatePropagation(),a(this).parents(".chart-wrapper.open:first").removeClass("open")}),b.elem.find("span.btn-plus-minus").unbind("click").click(function(b){b.stopImmediatePropagation();var c=a(this).parents("li.sutable-item:first");c.toggleClass("open"),c.find("li.sutable-item").toggleClass("open",c.hasClass("open"))}),b.elem.find(".sutable-col-status>.switcher").click(function(a){a.stopImmediatePropagation()}),b.elem.find(".sutable-col-status>.switcher>label>input").unbind("click").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();if(d.toggleClass("active"),!d.hasClass("active")){var e=a(this).parents(".sutable-item:first");e.find("ul .switcher>label").removeClass("active")}fireEvent(b.elem.get(0),"STATUS_CHANGE",{status:d.hasClass("active")})}),b.elem.find(".treable-row-wrapper>.treable-row").unbind("click").click(function(c){c.stopImmediatePropagation(),a(this).hasClass("focus")?a(this).removeClass("focus"):(b.elem.find(".treable-row-wrapper>.treable-row.focus").removeClass("focus"),a(this).addClass("focus")),b.toolbar.toggleClass("active",a(this).hasClass("focus"))}),b.elem.find("#chart").unbind("click").click(function(a){b.elem.find(".treable-row-wrapper>.treable-row.focus+.chart-wrapper").addClass("open"),b.elem.find(".treable-row-wrapper>.treable-row:not(.focus)+.chart-wrapper.open").removeClass("open")})},b.prototype.init=function(){var b=this;this.concrate(),this.initConfig(),b.elem.on("dragstart",function(){return!1}),b.scroll.on("dragstart",function(){return!1}),b.head.find(".sort-wrapper").click(function(c){c.stopImmediatePropagation();var d=a(this).parent();a(this).children().toggleClass("hi");var e=d.siblings();e.find(".sort-wrapper").children("i").removeClass("hi"),e.find(".sort-wrapper").children("i.glyphicon-triangle-bottom").addClass("hi"),fireEvent(b.elem.get(0),"SORT_CLICK",{col:d.attr("col"),val:d.text()})}),b.elem.find("span.inspliter").mousedown(function(c){var d=a(this).parent(),e=d.attr("col"),f=a(".sutable-col[col="+e+"]"),g=(window.getComputedStyle(f.get(0)).minWidth,a(this).get(0).getBoundingClientRect()),h=b.elem.get(0).getBoundingClientRect(),i=g.left-h.left+g.width;b.elem.find(".split-line").css("left",i+"px").addClass("active"),b.elem.addClass("resize-cursor"),b.elem.off("mousemove").mousemove(function(c){c.stopImmediatePropagation();var g=c.clientX-h.left+1,j=c.clientX-d.get(0).getBoundingClientRect().left;if(a(this).find(".split-line").css("left",g+"px"),g>i)f.css("width",j+"px");else{var k=parseInt(e)+1;a(".sutable-col[col="+k+"]");f.css("width",j+"px")}b.config.colDims[e]=j})}),b.elem.mouseleave(function(c){c.stopImmediatePropagation(),a(this).unbind("mousemove"),b.elem.trigger("RESIZE_DONE")}),b.elem.mouseup(function(a){a.stopImmediatePropagation(),b.elem.removeClass("resize-cursor"),b.elem.find(".split-line").removeClass("active"),b.elem.unbind("mousemove"),b.scrollV(),b.elem.trigger("RESIZE_DONE")}),b.scroll.find(".horiz-thumb").unbind("mousedown").mousedown(function(c){var d=a(this),e=b.scroll.get(0).getBoundingClientRect(),f=c.clientX;b.scroll.unbind("mousemove").mousemove(function(a){a.stopImmediatePropagation();var c=d.get(0).getBoundingClientRect(),g=a.clientX,h=g-f;f=g,d.css("left",c.left-e.left+h+"px"),c.left<e.left?d.css("left",0):c.right>e.right&&d.css("left",e.right-c.width-e.left+"px");var i=c.left-e.left;0>i&&(i=0),b.elem.children("[role=table]").css("left",-i+"px")})}),b.scroll.mouseleave(function(a){b.scroll.unbind("mousemove");var c=b.scroll.find(".horiz-thumb").css("left");b.scroll.find(".horiz-thumb").css("left",c+"px")}),b.scroll.mouseup(function(c){b.scroll.unbind("mousemove");var d=a(this).children(":first"),e=a(this).get(0).getBoundingClientRect(),f=d.get(0).getBoundingClientRect();if(f.right>=e.right){var g=e.right-f.width-e.left;d.css("left",g+"px")}else f.left<=e.left&&d.css("left",0)}),b.scroll.unbind("click").click(function(c){c.stopImmediatePropagation();var d=a(this).find(".horiz-thumb"),e=d.get(0).getBoundingClientRect(),f=a(this).get(0).getBoundingClientRect();c.clientX>=e.left?d.css("left",e.left-f.left+20+"px"):d.css("left",e.left-f.left-20+"px"),e.left<f.left?d.css("left",0):e.right>f.right&&d.css("left",f.right-e.width-f.left+"px");var g=e.left-f.left;0>g&&(g=0),b.elem.children("[role=table]").css("left",-g+"px")}),a(".sutable-toolbar").click(function(a){var b=a.target,c=b.getAttribute("id"),d=b.getAttribute("val");c&&d&&fireEvent(b,"TOOLBAR_CLICK",{id:c,val:d})}),b.listenBody(),a(window).resize(function(a){b.config.wi=b.elem.width(),b.allocate(b.config.wi)}),this.elem.trigger("MISSION_COMPLETE")},b.prototype.concrate=function(){this.toolbar=a("<div class='sutable-toolbar' role='table' />"),this.head=a("<ul class='treable-header' role='table' />").html('<li class=" treable-row"></li>'),this.elem.append("<span class='split-line'></span>"),this.elem.append(this.toolbar).append(this.head)},b.prototype.initConfig=function(){var b=this,c=this.config;if(c.todata)if(c.todata instanceof Array){var e="";c.todata.forEach(function(a,b){var c=a.text||a.name||a.label,d=a["class"]?a["class"]:"";e+="<button class='btn btn-default "+d+"' id="+a.id+" val="+c+" >"+c+"</button>"}),this.toolbar.html(e)}else"function"==typeof c.todata&&c.todata(b.toolbar);if(c.head&&c.head.forEach(function(c,d){var e=a("<span class='sutable-col' col="+d+" />");0==d?e.addClass("sutable-col-status"):1==d&&e.addClass("sutable-col-name"),"object"==typeof c?e.text(c.label||c.text||c.name):e.text(c),e.append("<span class='inspliter'></span>"),b.head.find(".treable-row").append(e)}),c.body&&d.recursive(b.elem,c.body,c),c.tail&&(b.foot=a("<ul class='sutable-footer'  />"),b.elem.append(b.foot)),b.scroll=a("<div class='horiz-scroll' />").html("<div class='horiz-thumb' />"),b.elem.append(b.scroll),this.allocate(c.wi),c.sort){var f="<span class='sort-wrapper'><i class='glyphicon glyphicon-triangle-top'></i><i class='glyphicon glyphicon-triangle-bottom hi'></i></span>";c.sort instanceof Array?c.sort.forEach(function(a,c){b.head.find(".sutable-col[col="+a+"]").append(f)}):""==c.sort&&b.head.find(".sutable-col").append(f)}this.scrollV()},b.prototype.allocate=function(a){var a=a||this.elem.width(),b=this.elem,c=this.config,d=a-100-100-40,e=d/(c.head.length-2);c.colDims=[100,100],e>50?b.find(".sutable-col:gt(1)").css("width",e+"px").each(function(){c.colDims.push(e)}):b.find(".sutable-col:gt(2)").css("width","80px").each(function(){c.colDims.push(e)}),this.foot.css("width",a+"px"),this.scroll.css("width",a+"px")},a.fn.treable=function(d){var e=this.first(),f=new b(e,d);return e=a.extend(!0,{},e,new c(f))};var e=a.fn.treable;a.fn.treable.Constructor=b,a.fn.treable.noConflict=function(){return a.fn.treable=e,this},a.fn.treable.defaults={head:null,body:null,tail:null,caret:null,sort:null,todata:null}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='tree-root'/>");e>1?g.addClass("hide").css("left","16px"):g.addClass("tree-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='tree-item' />"),k=a("<span class='tree-txt-wrapper' />");if(j.append(k),"object"==typeof i){var l=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,m=i[c.textKey]||i.text||i.label||i.title||i.name;k.html(m).attr("title",m),j.attr({value:m,deep:e}),l&&l instanceof Array?(j.prepend(a("<span class='tree-joint-wrapper' />").html(c.joint)),f(l,c,j,e)):j.addClass("tree-leaf")}else k.html(i),j.attr({value:i,deep:e}).addClass("tree-leaf");j.prepend("<span class='line-inspect' />"),e>1&&j.append("<span class='line-inspect-hori' />"),g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.tree.defaults,b.data(),c),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("span.tree-joint-wrapper").click(function(b){var c=a(this).siblings("ul.tree-root");c.toggleClass("hide"),a(this).toggleClass("active")}),b.config.checkbox?b.elem.find("li>.tree-txt-wrapper").unbind("click").click(function(c){c.stopImmediatePropagation(),a(this).parent().toggleClass("active");var d=(a(this).parent(),a(this).parent().find("input[type=checkbox]"));if(a(this).parent().hasClass("active"))d.prop("checked",!0).parents("li").addClass("active");else{d.removeAttr("checked").parents("li:not(.tree-leaf)").removeClass("active");var e=a(this).parent().parents("li:not(.tree-leaf)");e.removeClass("active").find("input[type=checkbox]:first").removeAttr("checked")}fireEvent(b.elem.get(0),"LEAF_CHECK",{val:a(this).attr("title"),check:a(this).find("input").prop("checked")})}):b.elem.find("li.tree-leaf").unbind("click").click(function(c){b.elem.find("li.tree-leaf").removeClass("active"),a(this).addClass("active"),fireEvent(b.elem.get(0),"LEAF_CLICK",{val:a(this).attr("value")})})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0)},c.prototype.initConfig=function(){var a=this,b=this.config;b.folder&&a.elem.find("li:not(.tree-leaf)>.tree-txt-wrapper").prepend(b.folder),b.file&&a.elem.find("li.tree-leaf>.tree-txt-wrapper").prepend(b.file),b.checkbox&&a.elem.find("li>.tree-txt-wrapper").prepend("<input type='checkbox'>")},a.fn.tree=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.tree;a.fn.tree.Constructor=c,a.fn.tree.noConflict=function(){return a.fn.tree=e,this},a.fn.tree.defaults={joint:"<span>+</span><span>-</span>",icon:"",data:[],subKey:null,textKey:null,folder:null,file:null,checkbox:!1}}(jQuery),function(a,b,c){function d(b){return a.extend(this,{name:"file",type:"image",width:560,height:250,size:10485760,allowSize:[],html:'<div class="upload-wrapper" data-state="prepare">                    <div class="upload-content">                        <div class="upload-desc">                            <div class="upload-desc-inner">                                <p class="upload-icon"></p>                                <p>图片拖放到这里</p>                                <p class="small">或</p>                                <button class="upload-button" type="button">上传</button>                            </div>                        </div>                        <div class="upload-preview"></div>                        <div class="upload-mask">                            <div class="upload-mask-inner">                                <p class="upload-num">0</p>                                <p>上传中</p>                            </div>                        </div>                    </div>                    <div class="upload-footer">                        <span class="upload-msg"></span>                        <a herf="javascript:void(0);" class="upload-button btn-link" type="button">重新上传</a>                    </div>                </div>'},b),this.init(b)}d.prototype={constructor:"FileUpload",init:function(b){var c={image:'<img src="{{src}}">',video:'<video src="{{src}}" width ="'+self.width+'" height ="'+self.height+'"></video>'};this.$wrapper=a(this.html),this.$num=this.$wrapper.find(".upload-num"),this.$msg=this.$wrapper.find(".upload-msg"),this.$wrapper.appendTo(a(this.container)),this.setSize(),this.previewTpl=this.previewTpl||this.type&&c[this.type],this.bindEvent()},createFileInput:function(){var a=this,b=document.createElement("input");b.type="file",b.onchange=function(b){b.files=this.files,a.drop(b)},b.click()},bindEvent:function(){this.$wrapper.on("dragenter",this.dragEnter.bind(this)).on("dragleave",this.dragLeave.bind(this)).on("dragover",this.dragOver.bind(this)).on("drop",this.drop.bind(this)).on("click",".upload-button",this.popFileSelect.bind(this)),a(document).on({dragenter:!1,dragover:!1,dragend:!1,drop:!1})},popFileSelect:function(){this.$wrapper.attr("data-state","selecting"),this.createFileInput()},dragDetectDeferred:function(b){var c=null,d=b[0],e=a.Deferred(),f=this;return b.length<1?c="没有要上传的文件":b.length>1?c="文件数超过一个":this.size<d.size?c="文件大小超过限制":this.type&&!new RegExp(this.type,"igm").test(d.type)&&(c="文件类型错误"),c?(this.error({msg:c,type:"file"}),e.reject(!1)):f.getURLDeferred(d).done(function(a){f.getImgSize(a,function(b,c){"image"==f.type&&f.allowSize.length&&-1==f.allowSize.indexOf(b+"*"+c)?(f.error({msg:"文件尺寸不正确",type:"file"}),e.reject(!1)):(f.setSize.call(f,b,c),e.resolve(a))})}),e},error:function(a){this.onerror&&this.onerror(a),this.$wrapper.attr("data-state","error"),this.showMsg(a.msg)},progress:function(a){a.lengthComputable&&this.showNum(Math.floor(a.loaded/a.total*100)),this.onprogress&&this.onprogress(a)},showNum:function(a){this.$num.html(a)},showMsg:function(a){this.$msg.html(a)},dragEnter:function(a){this.$wrapper.attr("data-state","selecting"),this.ondragenter&&this.ondragenter(a),a.preventDefault()},dragLeave:function(a){this.ondragleave&&this.ondragleave(a),a.preventDefault()},dragOver:function(a){this.ondragover&&this.ondragover(a),a.preventDefault()},drop:function(a){var b=Array.prototype.slice.call(a.files||a.originalEvent.dataTransfer.files,0),c=this;this.$wrapper.attr("data-state","selected"),this.ondrop&&this.ondrop(a),a.preventDefault(),this.dragDetectDeferred(b).then(function(a){c.createPreview.call(c,b[0],a),c.upload.call(c,b[0],a)},function(){c.createPreview.call(c,!1)})},setSize:function(a,b){var c=this.width,d=this.height,e=Math.max(a/c,b/d);e>1&&(c=a/e,d=b/e),this.$wrapper.find(".upload-content").css({width:c+"px",height:d+"px"})},getURLDeferred:function(c){var d=a.Deferred(),e=new FileReader;return b.webkitURL?d.resolve(b.webkitURL.createObjectURL(c)):b.URL?d.resolve(b.URL.createObjectURL(c)):(e.onload=function(a){d.resolve(e.result)},e.readAsDataURL(c)),d},createPreview:function(a,b){b&&this.$wrapper.find(".upload-preview").html(this.previewTpl.replace("{{src}}",b))},getImgSize:function(a,b){var c=new Image;c.onreadystatechange=c.onload=function(){(c.complete||"complete"==c.readystate||"loaded"==c.readystate)&&(b(parseInt(c.naturalWidth||c.width,10),parseInt(c.naturalHeight||c.height,10)),c.onload=c.onreadystatechange=null)},c.src=a},upload:function(b){var c=this,d=a.extend({dataType:"json",type:"post",contentType:!1,processData:!1,xhr:function(){var a=new XMLHttpRequest;return c.$wrapper.attr("data-state","uploading"),c.showMsg("正在上传"),a.upload.onprogress=c.progress.bind(c),a}},c.ajax),e=new FormData;e.append(c.name,b),a.each(d.data||{},function(a,b){e.append(a,b)}),d.data=e,a.ajax(d).done(function(a){c.$wrapper.attr("data-state","uploaded"),c.showMsg("上传成功"),c.showNum("0"),c.onload&&c.onload.call(c,a)}).fail(function(a,b,d){c.error.call(c,{msg:a.responseText,type:"ajax",textStatus:b,xhr:a,error:d})})}},a.fn.fileupload=function(b){var c=this;return this.each(function(c,e){new d(a.extend({container:e},b))}),c}}(jQuery,window,void 0),function(a){function b(b,c,d,e){if(!(b.length<=0)){e++;var f=arguments.callee,g=a("<ul class='list-root' deep="+e+"  />");e>1?g.addClass("hide"):g.addClass("list-deepest");for(var h=0;h<b.length;h++){var i=b[h],j=a("<li class='list-item' />"),k=a("<span class='list-txt-wrapper' />");if(j.append(k),"object"==typeof i){var l=i[c.subKey]||i.sub||i.son||i.next||i.group||i.children,m=i[c.textKey]||i.text||i.label||i.title||i.name;k.html(m).attr("title",m),j.attr({value:m,deep:e}),l&&l instanceof Array?(c.expicon&&(j.attr("asparent",!0),k.append(c.expicon)),f(l,c,j,e)):j.addClass("list-leaf")}else k.html(i),j.attr({value:i,deep:e}).addClass("list-leaf");g.append(j)}d.append(g)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.vList.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.manipulate=function(a){}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("li[asparent]:has(ul)").click(function(b){b.stopImmediatePropagation(),a(this).toggleClass("active").children("ul.list-root").toggleClass("hide")}),b.elem.find("li.list-leaf").click(function(c){if(c.stopImmediatePropagation(),b.elem.find("li.list-leaf").removeClass("active"),a(this).parents("li[asparent].active").addClass("focus"),a(this).addClass("active"),a(this).parent().hasClass("list-deepest")){var d=a(this).siblings("li[asparent]").removeClass("active focus");d.find("li[asparent].active").removeClass("active").removeClass("focus"),d.find("ul").addClass("hide")}else{d=a(this).parents("li[deep='1']").siblings("li"),d.find("ul").addClass("hide"),d.removeClass("active focus"),d.find("li").removeClass("active").removeClass("focus");a(this).attr("deep");a(this).parent().parent().siblings("li[asparent]").removeClass(" active").removeClass("focus").children("ul").addClass("hide"),a(this).siblings("li").removeClass("active").removeClass("focus").children("ul").addClass("hide")}fireEvent(a(this).get(0),"ITEM_CLICK",{val:a(this).attr("value")})})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0)},c.prototype.initConfig=function(){var a=this,b=this.config;if(b.leaficon?a.elem.find("li.list-leaf>.list-txt-wrapper").prepend(b.leaficon).addClass("leaf-icon"):a.elem.find("li.list-leaf>.list-txt-wrapper").removeClass("leaf-icon"),b.foldicon){a.elem.find("li[asparent]").attr("value");a.elem.find("li[asparent]>.list-txt-wraper").prepend(b.foldicon)}},a.fn.vList=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.vList;a.fn.vList.Constructor=c,a.fn.vList.noConflict=function(){return a.fn.vList=e,this},a.fn.vList.defaults={data:[],expicon:"<i class='glyphicon glyphicon-menu-right'></i>",leaficon:"<i class='glyphicon glyphicon-list-alt'></i>"}}(jQuery),function(a){function b(b,c,d,e){if(!(b.length<=0)){var f=/^<[^><]+>.+?>$/i;e++;var g=arguments.callee,h=a("<ul class='list-root' deep="+e+"  />");1==e&&h.addClass("list-deepest");for(var i=0;i<b.length;i++){var j=b[i],k=a("<li class='list-item' data-index="+i+"/>"),l=a("<div class='content-part' />");k.append(l);var m=a("<span class='icon-part' />");l.append(m);var n=a("<span class='txt-part' />");if(l.append(n),"object"==typeof j){var o=j[c.subKey]||j.sub||j.son||j.next||j.group||j.children,p=j[c.textKey]||j.text||j.label||j.title||j.name;j.href&&(p='<a href="'+j.href+'">'+p+"</a>"),n.html(p).attr("title",p),k.attr({value:p,deep:e}),o&&o instanceof Array?(c.foldicon&&l.append(c.foldicon),g(o,c,k,e)):k.addClass("list-leaf"),j.icon&&(f.test(j.icon)?m.append(j.icon):m.append("<img width='80%' height='80%' src="+j.icon+" />"))}else n.html(j),k.attr({value:j,deep:e}).addClass("list-leaf");h.append(k)}d.append(h)}}function c(b,c){this.elem=b,this.config=a.extend(!0,{},a.fn.vList2.defaults,b.data(),c),this.config.wi=this.elem.width(),this.init()}function d(a){this.fold=function(){return a.transform(),a.elem}}c.prototype.init=function(){var b=this;this.elem.addClass(this.config.containerClass),this.concrate(),this.initConfig(),b.elem.find("li[asparent]:has(ul)").click(function(a){a.stopImmediatePropagation()}),b.elem.find("li.list-leaf").click(function(c){c.stopImmediatePropagation(),b.elem.find("li.list-leaf").removeClass("active");var d=a(this).attr("deep"),e=a(this).attr("value");if(a(this).parents("li[asparent].active"),a(this).addClass("active"),a(this).parent().hasClass("list-deepest")){var f=a(this).siblings("li[asparent]").removeClass("active");f.find("li[asparent].active").removeClass("active")}else f=a(this).parents("li[deep='1']").siblings("li"),f.removeClass("active"),f.find("li").removeClass("active"),a(this).parent().parent().siblings("li[asparent]").removeClass(" active").children("ul"),a(this).siblings("li").removeClass("active").children("ul");fireEvent(a(this).get(0),"item_click",{deep:d,value:e})}),b.elem.find(".content-part:has(i.glyphicon-menu-up)").addClass("cur").click(function(b){b.stopImmediatePropagation();var c=a(this).parents(".list-item:first");c.children("ul").toggleClass("hidden"),
a(this).toggleClass("open-hide")}),b.elem.on("webkitTransitionEnd oTransitionEnd otransitionend transitionend",function(b){b.stopImmediatePropagation(),a(this).hasClass("mini-state")?a(this).trigger("shrink_complete"):a(this).trigger("expand_complete")})},c.prototype.concrate=function(a){var c=this,d=c.config;b(d.data,d,c.elem,0),c.elem.find("li.list-leaf:first").addClass("active"),c.elem.find("li[deep='1'].list-item:last").siblings("li").append("<hr />")},c.prototype.initConfig=function(){var a=this,b=this.config;if(b.leaficon?a.elem.find("li.list-leaf>.list-txt-wrapper").prepend(b.leaficon).addClass("leaf-icon"):a.elem.find("li.list-leaf>.list-txt-wrapper").removeClass("leaf-icon"),b.foldicon){a.elem.find("li[asparent]").attr("value");a.elem.find("li[asparent]>.list-txt-wraper").prepend(b.foldicon)}},c.prototype.transform=function(){if(!(this.elem.children().length<=0)){this.elem.toggleClass("mini-state");var b=this.elem.find("li>ul:has(li[deep='2'])");!b.hasClass("menu-mini-mode")&&b.hasClass("hidden")&&b.removeClass("hidden"),b.toggleClass("menu-mini-mode hidden"),this.elem.find("li:has(li.active)>.content-part"),this.elem.hasClass("mini-state")?(this.elem.find("li[deep='1']:has(ul)").unbind("mouseenter").mouseenter(function(){var b=window.innerHeight,c=a(this).find("ul:has(li[deep='2'])");a(this).addClass("active"),a(this).find("ul:has(li[deep='2'])").removeClass("hidden");var d=c.get(0).getBoundingClientRect().bottom;d+5>b?c.addClass("align-bottom"):c.removeClass("align-bottom")}),this.elem.find("li[deep='1']:has(ul)").unbind("mouseleave").mouseleave(function(){a(this).removeClass("active"),a(this).children("ul:has(li[deep='2'])").addClass("hidden")})):(this.elem.find("li[deep='1']:has(ul)").unbind("mouseenter"),this.elem.find("li[deep='1']:has(ul)").unbind("mouseleave"))}},a.fn.vList2=function(b){var e=this.first(),f=new c(e,b);return e=a.extend(!0,{},e,new d(f))};var e=a.fn.vList2;a.fn.vList2.Constructor=c,a.fn.vList2.noConflict=function(){return a.fn.vList2=e,this},a.fn.vList2.defaults={data:[],leaficon:null,foldicon:"<i class='glyphicon glyphicon-menu-up'></i>"}}(jQuery);
//# sourceMappingURL=nxdc.min.js.map